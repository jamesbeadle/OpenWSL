var cs=Object.defineProperty;var ma=e=>{throw TypeError(e)};var us=(e,t,r)=>t in e?cs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var M=(e,t,r)=>us(e,typeof t!="symbol"?t+"":t,r),ga=(e,t,r)=>t.has(e)||ma("Cannot "+r);var U=(e,t,r)=>(ga(e,t,"read from private field"),r?r.call(e):t.get(e)),dr=(e,t,r)=>t.has(e)?ma("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),_r=(e,t,r,a)=>(ga(e,t,"write to private field"),a?a.call(e,r):t.set(e,r),r);import{D as Ua,u as fs,A as ds,b as wa,H as It,a as za,V as va,g as Sa,P as xt,i as _s}from"./vendor.B7Ok8-00.js";var Ja=Array.isArray,ps=Array.from,Ya=Object.defineProperty,Ye=Object.getOwnPropertyDescriptor,hs=Object.getOwnPropertyDescriptors,ys=Object.prototype,ms=Array.prototype,Xa=Object.getPrototypeOf;const ye=()=>{};function gs(e){return e()}function Bt(e){for(var t=0;t<e.length;t++)e[t]()}const ge=2,Qa=4,Nt=8,Wr=16,se=32,Tt=64,Ie=128,Ht=256,K=512,Te=1024,ot=2048,et=4096,st=8192,ws=16384,At=32768,vs=65536,Ss=1<<18,Za=1<<19,Xe=Symbol("$state");function Da(e){return e===this.v}function La(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Vr(e){return!La(e,this.v)}function bs(e){throw new Error("effect_in_teardown")}function Es(){throw new Error("effect_in_unowned_derived")}function Ns(e){throw new Error("effect_orphan")}function Ts(){throw new Error("effect_update_depth_exceeded")}function As(){throw new Error("hydration_failed")}function ks(e){throw new Error("props_invalid_value")}function Ps(){throw new Error("state_descriptors_fixed")}function Os(){throw new Error("state_prototype_fixed")}function Rs(){throw new Error("state_unsafe_local_read")}function Cs(){throw new Error("state_unsafe_mutation")}function ne(e){return{f:0,v:e,reactions:null,equals:Da,version:0}}function pr(e){return en(ne(e))}function Lt(e,t=!1){var a;const r=ne(e);return t||(r.equals=Vr),x!==null&&x.l!==null&&((a=x.l).s??(a.s=[])).push(r),r}function A(e,t=!1){return en(Lt(e,t))}function en(e){return R!==null&&R.f&ge&&(fe===null?Ds([e]):fe.push(e)),e}function v(e,t){return R!==null&&Ur()&&R.f&(ge|Wr)&&(fe===null||!fe.includes(e))&&Cs(),Fs(e,t)}function Fs(e,t){return e.equals(t)||(e.v=t,e.version=Nn(),tn(e,Te),Ur()&&P!==null&&P.f&K&&!(P.f&se)&&(B!==null&&B.includes(e)?(ie(P,Te),ar(P)):Ee===null?Ls([e]):Ee.push(e))),t}function tn(e,t){var r=e.reactions;if(r!==null)for(var a=Ur(),o=r.length,n=0;n<o;n++){var s=r[n],l=s.f;l&Te||!a&&s===P||(ie(s,t),l&(K|Ie)&&(l&ge?tn(s,ot):ar(s)))}}const xs=1,Gs=2,qs=4,Is=8,Ms=16,Ws=1,Vs=2,rn="[",an="[!",nn="]",dt={},Y=Symbol();function Br(e){console.warn("hydration_mismatch")}let W=!1;function Ke(e){W=e}let G;function we(e){if(e===null)throw Br(),dt;return G=e}function er(){return we(Me(G))}function Tr(e){if(W){if(Me(G)!==null)throw Br(),dt;G=e}}function Bs(){for(var e=0,t=G;;){if(t.nodeType===8){var r=t.data;if(r===nn){if(e===0)return t;e-=1}else(r===rn||r===an)&&(e+=1)}var a=Me(t);t.remove(),t=a}}function Re(e,t=null,r){if(typeof e!="object"||e===null||Xe in e)return e;const a=Xa(e);if(a!==ys&&a!==ms)return e;var o=new Map,n=Ja(e),s=ne(0);n&&o.set("length",ne(e.length));var l;return new Proxy(e,{defineProperty(u,i,h){(!("value"in h)||h.configurable===!1||h.enumerable===!1||h.writable===!1)&&Ps();var _=o.get(i);return _===void 0?(_=ne(h.value),o.set(i,_)):v(_,Re(h.value,l)),!0},deleteProperty(u,i){var h=o.get(i);if(h===void 0)i in u&&o.set(i,ne(Y));else{if(n&&typeof i=="string"){var _=o.get("length"),d=Number(i);Number.isInteger(d)&&d<_.v&&v(_,d)}v(h,Y),ba(s)}return!0},get(u,i,h){if(i===Xe)return e;var _=o.get(i),d=i in u;if(_===void 0&&(!d||Ye(u,i)?.writable)&&(_=ne(Re(d?u[i]:Y,l)),o.set(i,_)),_!==void 0){var c=T(_);return c===Y?void 0:c}return Reflect.get(u,i,h)},getOwnPropertyDescriptor(u,i){var h=Reflect.getOwnPropertyDescriptor(u,i);if(h&&"value"in h){var _=o.get(i);_&&(h.value=T(_))}else if(h===void 0){var d=o.get(i),c=d?.v;if(d!==void 0&&c!==Y)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return h},has(u,i){if(i===Xe)return!0;var h=o.get(i),_=h!==void 0&&h.v!==Y||Reflect.has(u,i);if(h!==void 0||P!==null&&(!_||Ye(u,i)?.writable)){h===void 0&&(h=ne(_?Re(u[i],l):Y),o.set(i,h));var d=T(h);if(d===Y)return!1}return _},set(u,i,h,_){var d=o.get(i),c=i in u;if(n&&i==="length")for(var f=h;f<d.v;f+=1){var p=o.get(f+"");p!==void 0?v(p,Y):f in u&&(p=ne(Y),o.set(f+"",p))}d===void 0?(!c||Ye(u,i)?.writable)&&(d=ne(void 0),v(d,Re(h,l)),o.set(i,d)):(c=d.v!==Y,v(d,Re(h,l)));var m=Reflect.getOwnPropertyDescriptor(u,i);if(m?.set&&m.set.call(_,h),!c){if(n&&typeof i=="string"){var y=o.get("length"),w=Number(i);Number.isInteger(w)&&w>=y.v&&v(y,w+1)}ba(s)}return!0},ownKeys(u){T(s);var i=Reflect.ownKeys(u).filter(d=>{var c=o.get(d);return c===void 0||c.v!==Y});for(var[h,_]of o)_.v!==Y&&!(h in u)&&i.push(h);return i},setPrototypeOf(){Os()}})}function ba(e,t=1){v(e,e.v+t)}var Ea,on,sn;function Ar(){if(Ea===void 0){Ea=window;var e=Element.prototype,t=Node.prototype;on=Ye(t,"firstChild").get,sn=Ye(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function xe(e=""){return document.createTextNode(e)}function tt(e){return on.call(e)}function Me(e){return sn.call(e)}function kr(e,t){if(!W)return tt(e);var r=tt(G);if(r===null)r=G.appendChild(xe());else if(t&&r.nodeType!==3){var a=xe();return r?.before(a),we(a),a}return we(r),r}function Ue(e,t){if(!W){var r=tt(e);return r instanceof Comment&&r.data===""?Me(r):r}return G}function ln(e,t=1,r=!1){let a=W?G:e;for(;t--;)a=Me(a);if(!W)return a;var o=a.nodeType;if(r&&o!==3){var n=xe();return a?.before(n),we(n),n}return we(a),a}function Hs(e){e.textContent=""}function Fe(e){var t=ge|Te;P===null?t|=Ie:P.f|=Za;const r={children:null,ctx:x,deps:null,equals:Da,f:t,fn:e,reactions:null,v:null,version:0,parent:P};if(R!==null&&R.f&ge){var a=R;(a.children??(a.children=[])).push(r)}return r}function $s(e){const t=Fe(e);return t.equals=Vr,t}function cn(e){var t=e.children;if(t!==null){e.children=null;for(var r=0;r<t.length;r+=1){var a=t[r];a.f&ge?Hr(a):We(a)}}}function un(e){var t,r=P;Ae(e.parent);try{cn(e),t=Tn(e)}finally{Ae(r)}return t}function fn(e){var t=un(e),r=(ze||e.f&Ie)&&e.deps!==null?ot:K;ie(e,r),e.equals(t)||(e.v=t,e.version=Nn())}function Hr(e){cn(e),gt(e,0),ie(e,st),e.v=e.children=e.deps=e.ctx=e.reactions=null}function dn(e){P===null&&R===null&&Ns(),R!==null&&R.f&Ie&&Es(),Kr&&bs()}function js(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function it(e,t,r,a=!0){var o=(e&Tt)!==0,n=P,s={ctx:x,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|Te,first:null,fn:t,last:null,next:null,parent:o?null:n,prev:null,teardown:null,transitions:null,version:0};if(r){var l=Qe;try{Ta(!0),kt(s),s.f|=ws}catch(h){throw We(s),h}finally{Ta(l)}}else t!==null&&ar(s);var u=r&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&Za)===0;if(!u&&!o&&a&&(n!==null&&js(s,n),R!==null&&R.f&ge)){var i=R;(i.children??(i.children=[])).push(s)}return s}function Ks(e){const t=it(Nt,null,!1);return ie(t,K),t.teardown=e,t}function $t(e){dn();var t=P!==null&&(P.f&se)!==0&&x!==null&&!x.m;if(t){var r=x;(r.e??(r.e=[])).push({fn:e,effect:P,reaction:R})}else{var a=$r(e);return a}}function _n(e){return dn(),tr(e)}function Us(e){const t=it(Tt,e,!0);return()=>{We(t)}}function $r(e){return it(Qa,e,!1)}function ht(e,t){var r=x,a={effect:null,ran:!1};r.l.r1.push(a),a.effect=tr(()=>{e(),!a.ran&&(a.ran=!0,v(r.l.r2,!0),Ge(t))})}function jr(){var e=x;tr(()=>{if(T(e.l.r2)){for(var t of e.l.r1){var r=t.effect;r.f&K&&ie(r,ot),lt(r)&&kt(r),t.ran=!1}e.l.r2.v=!1}})}function tr(e){return it(Nt,e,!0)}function pn(e){return rr(e)}function rr(e,t=0){return it(Nt|Wr|t,e,!0)}function yt(e,t=!0){return it(Nt|se,e,!0,t)}function hn(e){var t=e.teardown;if(t!==null){const r=Kr,a=R;Aa(!0),rt(null);try{t.call(null)}finally{Aa(r),rt(a)}}}function yn(e){var t=e.deriveds;if(t!==null){e.deriveds=null;for(var r=0;r<t.length;r+=1)Hr(t[r])}}function mn(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var a=r.next;We(r,t),r=a}}function zs(e){for(var t=e.first;t!==null;){var r=t.next;t.f&se||We(t),t=r}}function We(e,t=!0){var r=!1;if((t||e.f&Ss)&&e.nodes_start!==null){for(var a=e.nodes_start,o=e.nodes_end;a!==null;){var n=a===o?null:Me(a);a.remove(),a=n}r=!0}yn(e),mn(e,t&&!r),gt(e,0),ie(e,st);var s=e.transitions;if(s!==null)for(const u of s)u.stop();hn(e);var l=e.parent;l!==null&&l.first!==null&&gn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.parent=e.fn=e.nodes_start=e.nodes_end=null}function gn(e){var t=e.parent,r=e.prev,a=e.next;r!==null&&(r.next=a),a!==null&&(a.prev=r),t!==null&&(t.first===e&&(t.first=a),t.last===e&&(t.last=r))}function Pr(e,t){var r=[];wn(e,r,!0),Js(r,()=>{We(e),t&&t()})}function Js(e,t){var r=e.length;if(r>0){var a=()=>--r||t();for(var o of e)o.out(a)}else t()}function wn(e,t,r){if(!(e.f&et)){if(e.f^=et,e.transitions!==null)for(const s of e.transitions)(s.is_global||r)&&t.push(s);for(var a=e.first;a!==null;){var o=a.next,n=(a.f&At)!==0||(a.f&se)!==0;wn(a,t,n?r:!1),a=o}}}function Na(e){vn(e,!0)}function vn(e,t){if(e.f&et){e.f^=et,lt(e)&&kt(e);for(var r=e.first;r!==null;){var a=r.next,o=(r.f&At)!==0||(r.f&se)!==0;vn(r,o?t:!1),r=a}if(e.transitions!==null)for(const n of e.transitions)(n.is_global||t)&&n.in()}}let jt=!1,Or=[];function Sn(){jt=!1;const e=Or.slice();Or=[],Bt(e)}function Ys(e){jt||(jt=!0,queueMicrotask(Sn)),Or.push(e)}function Xs(){jt&&Sn()}function Qs(e){throw new Error("lifecycle_outside_component")}const bn=0,Zs=1;let Mt=bn,mt=!1,Qe=!1,Kr=!1;function Ta(e){Qe=e}function Aa(e){Kr=e}let Ce=[],Ze=0;let R=null;function rt(e){R=e}let P=null;function Ae(e){P=e}let fe=null;function Ds(e){fe=e}let B=null,X=0,Ee=null;function Ls(e){Ee=e}let En=0,ze=!1,x=null;function Nn(){return++En}function Ur(){return x!==null&&x.l===null}function lt(e){var s;var t=e.f;if(t&Te)return!0;if(t&ot){var r=e.deps,a=(t&Ie)!==0;if(r!==null){var o;if(t&Ht){for(o=0;o<r.length;o++)((s=r[o]).reactions??(s.reactions=[])).push(e);e.f^=Ht}for(o=0;o<r.length;o++){var n=r[o];if(lt(n)&&fn(n),a&&P!==null&&!ze&&!n?.reactions?.includes(e)&&(n.reactions??(n.reactions=[])).push(e),n.version>e.version)return!0}}a||ie(e,K)}return!1}function ei(e,t,r){throw e}function Tn(e){var d;var t=B,r=X,a=Ee,o=R,n=ze,s=fe,l=x,u=e.f;B=null,X=0,Ee=null,R=u&(se|Tt)?null:e,ze=!Qe&&(u&Ie)!==0,fe=null,x=e.ctx;try{var i=(0,e.fn)(),h=e.deps;if(B!==null){var _;if(gt(e,X),h!==null&&X>0)for(h.length=X+B.length,_=0;_<B.length;_++)h[X+_]=B[_];else e.deps=h=B;if(!ze)for(_=X;_<h.length;_++)((d=h[_]).reactions??(d.reactions=[])).push(e)}else h!==null&&X<h.length&&(gt(e,X),h.length=X);return i}finally{B=t,X=r,Ee=a,R=o,ze=n,fe=s,x=l}}function ti(e,t){let r=t.reactions;if(r!==null){var a=r.indexOf(e);if(a!==-1){var o=r.length-1;o===0?r=t.reactions=null:(r[a]=r[o],r.pop())}}r===null&&t.f&ge&&(B===null||!B.includes(t))&&(ie(t,ot),t.f&(Ie|Ht)||(t.f^=Ht),gt(t,0))}function gt(e,t){var r=e.deps;if(r!==null)for(var a=t;a<r.length;a++)ti(e,r[a])}function kt(e){var t=e.f;if(!(t&st)){ie(e,K);var r=P;P=e;try{yn(e),t&Wr?zs(e):mn(e),hn(e);var a=Tn(e);e.teardown=typeof a=="function"?a:null,e.version=En}catch(o){ei(o)}finally{P=r}}}function An(){Ze>1e3&&(Ze=0,Ts()),Ze++}function kn(e){var t=e.length;if(t!==0){An();var r=Qe;Qe=!0;try{for(var a=0;a<t;a++){var o=e[a];o.f&K||(o.f^=K);var n=[];Pn(o,n),ri(n)}}finally{Qe=r}}}function ri(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var a=e[r];!(a.f&(st|et))&&lt(a)&&(kt(a),a.deps===null&&a.first===null&&a.nodes_start===null&&(a.teardown===null?gn(a):a.fn=null))}}function ai(){if(mt=!1,Ze>1001)return;const e=Ce;Ce=[],kn(e),mt||(Ze=0)}function ar(e){Mt===bn&&(mt||(mt=!0,queueMicrotask(ai)));for(var t=e;t.parent!==null;){t=t.parent;var r=t.f;if(r&(Tt|se)){if(!(r&K))return;t.f^=K}}Ce.push(t)}function Pn(e,t){var r=e.first,a=[];e:for(;r!==null;){var o=r.f,n=(o&se)!==0,s=n&&(o&K)!==0;if(!s&&!(o&et))if(o&Nt){n?r.f^=K:lt(r)&&kt(r);var l=r.first;if(l!==null){r=l;continue}}else o&Qa&&a.push(r);var u=r.next;if(u===null){let _=r.parent;for(;_!==null;){if(e===_)break e;var i=_.next;if(i!==null){r=i;continue e}_=_.parent}}r=u}for(var h=0;h<a.length;h++)l=a[h],t.push(l),Pn(l,t)}function zr(e){var t=Mt,r=Ce;try{An();const o=[];Mt=Zs,Ce=o,mt=!1,kn(r);var a=e?.();return Xs(),(Ce.length>0||o.length>0)&&zr(),Ze=0,a}finally{Mt=t,Ce=r}}async function On(){await Promise.resolve(),zr()}function T(e){var t=e.f,r=(t&ge)!==0;if(r&&t&st){var a=un(e);return Hr(e),a}if(R!==null){fe!==null&&fe.includes(e)&&Rs();var o=R.deps;B===null&&o!==null&&o[X]===e?X++:B===null?B=[e]:B.push(e),Ee!==null&&P!==null&&P.f&K&&!(P.f&se)&&Ee.includes(e)&&(ie(P,Te),ar(P))}else if(r&&e.deps===null){var n=e,s=n.parent;s!==null&&!s.deriveds?.includes(n)&&(s.deriveds??(s.deriveds=[])).push(n)}return r&&(n=e,lt(n)&&fn(n)),e.v}function Ge(e){const t=R;try{return R=null,e()}finally{R=t}}const ni=~(Te|ot|K);function ie(e,t){e.f=e.f&ni|t}function le(e,t=!1,r){x={p:x,c:null,e:null,m:!1,s:e,x:null,l:null},t||(x.l={s:null,u:null,r1:[],r2:ne(!1)})}function ce(e){const t=x;if(t!==null){const s=t.e;if(s!==null){var r=P,a=R;t.e=null;try{for(var o=0;o<s.length;o++){var n=s[o];Ae(n.effect),rt(n.reaction),$r(n.fn)}}finally{Ae(r),rt(a)}}x=t.p,t.m=!0}return{}}function oi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Xe in e)Rr(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&Xe in r&&Rr(r)}}}function Rr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let a in e)try{Rr(e[a],t)}catch{}const r=Xa(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const a=hs(r);for(let o in a){const n=a[o].get;if(n)try{n.call(e)}catch{}}}}}const si=new Set,ka=new Set;function Gt(e){var t=this,r=t.ownerDocument,a=e.type,o=e.composedPath?.()||[],n=o[0]||e.target,s=0,l=e.__root;if(l){var u=o.indexOf(l);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var i=o.indexOf(t);if(i===-1)return;u<=i&&(s=u)}if(n=o[s]||e.target,n!==t){Ya(e,"currentTarget",{configurable:!0,get(){return n||r}});var h=R,_=P;rt(null),Ae(null);try{for(var d,c=[];n!==null;){var f=n.assignedSlot||n.parentNode||n.host||null;try{var p=n["__"+a];if(p!==void 0&&!n.disabled)if(Ja(p)){var[m,...y]=p;m.apply(n,[e,...y])}else p.call(n,e)}catch(w){d?c.push(w):d=w}if(e.cancelBubble||f===t||f===null)break;n=f}if(d){for(let w of c)queueMicrotask(()=>{throw w});throw d}}finally{e.__root=t,delete e.currentTarget,rt(h),Ae(_)}}}function ii(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Ne(e,t){var r=P;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function nr(e,t){var r=(t&Ws)!==0,a=(t&Vs)!==0,o,n=!e.startsWith("<!>");return()=>{if(W)return Ne(G,null),G;o===void 0&&(o=ii(n?e:"<!>"+e),r||(o=tt(o)));var s=a?document.importNode(o,!0):o.cloneNode(!0);if(r){var l=tt(s),u=s.lastChild;Ne(l,u)}else Ne(s,s);return s}}function li(e=""){if(!W){var t=xe(e+"");return Ne(t,t),t}var r=G;return r.nodeType!==3&&(r.before(r=xe()),we(r)),Ne(r,r),r}function Wt(){if(W)return Ne(G,null),G;var e=document.createDocumentFragment(),t=document.createComment(""),r=xe();return e.append(t,r),Ne(t,r),e}function de(e,t){if(W){P.nodes_end=G,er();return}e!==null&&e.before(t)}const ci=["touchstart","touchmove"];function ui(e){return ci.includes(e)}function Cr(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r==null?"":r+"")}function Rn(e,t){return Cn(e,t)}function fi(e,t){Ar(),t.intro=t.intro??!1;const r=t.target,a=W,o=G;try{for(var n=tt(r);n&&(n.nodeType!==8||n.data!==rn);)n=Me(n);if(!n)throw dt;Ke(!0),we(n),er();const s=Cn(e,{...t,anchor:n});if(G===null||G.nodeType!==8||G.data!==nn)throw Br(),dt;return Ke(!1),s}catch(s){if(s===dt)return t.recover===!1&&As(),Ar(),Hs(r),Ke(!1),Rn(e,t);throw s}finally{Ke(a),we(o)}}const Ve=new Map;function Cn(e,{target:t,anchor:r,props:a={},events:o,context:n,intro:s=!0}){Ar();var l=new Set,u=_=>{for(var d=0;d<_.length;d++){var c=_[d];if(!l.has(c)){l.add(c);var f=ui(c);t.addEventListener(c,Gt,{passive:f});var p=Ve.get(c);p===void 0?(document.addEventListener(c,Gt,{passive:f}),Ve.set(c,1)):Ve.set(c,p+1)}}};u(ps(si)),ka.add(u);var i=void 0,h=Us(()=>{var _=r??t.appendChild(xe());return yt(()=>{if(n){le({});var d=x;d.c=n}o&&(a.$$events=o),W&&Ne(_,null),i=e(_,a)||{},W&&(P.nodes_end=G),n&&ce()}),()=>{for(var d of l){t.removeEventListener(d,Gt);var c=Ve.get(d);--c===0?(document.removeEventListener(d,Gt),Ve.delete(d)):Ve.set(d,c)}ka.delete(u),Fr.delete(i),_!==r&&_.parentNode?.removeChild(_)}});return Fr.set(i,h),i}let Fr=new WeakMap;function di(e){const t=Fr.get(e);t&&t()}function hr(e,t,r,a=null,o=!1){W&&er();var n=e,s=null,l=null,u=null,i=o?At:0;rr(()=>{if(u===(u=!!t()))return;let h=!1;if(W){const _=n.data===an;u===_&&(n=Bs(),we(n),Ke(!1),h=!0)}u?(s?Na(s):s=yt(()=>r(n)),l&&Pr(l,()=>{l=null})):(l?Na(l):a&&(l=yt(()=>a(n))),s&&Pr(s,()=>{s=null})),h&&Ke(!0)},i),W&&(n=G)}function _i(e,t,...r){var a=e,o=ye,n;rr(()=>{o!==(o=t())&&(n&&(We(n),n=null),n=yt(()=>o(a,...r)))},At),W&&(a=G)}function yr(e,t,r){W&&er();var a=e,o,n;rr(()=>{o!==(o=t())&&(n&&(Pr(n),n=null),o&&(n=yt(()=>r(a,o))))},At),W&&(a=G)}function Pa(e,t){return e===t||e?.[Xe]===t}function mr(e={},t,r,a){return $r(()=>{var o,n;return tr(()=>{o=n,n=[],Ge(()=>{e!==r(...n)&&(t(e,...n),o&&Pa(r(...o),e)&&t(null,...o))})}),()=>{Ys(()=>{n&&Pa(r(...n),e)&&t(null,...n)})}}),e}function ke(e=!1){const t=x,r=t.l.u;if(!r)return;let a=()=>oi(t.s);if(e){let o=0,n={};const s=Fe(()=>{let l=!1;const u=t.s;for(const i in u)u[i]!==n[i]&&(n[i]=u[i],l=!0);return l&&o++,o});a=()=>T(s)}r.b.length&&_n(()=>{Oa(t,a),Bt(r.b)}),$t(()=>{const o=Ge(()=>r.m.map(gs));return()=>{for(const n of o)typeof n=="function"&&n()}}),r.a.length&&$t(()=>{Oa(t,a),Bt(r.a)})}function Oa(e,t){if(e.l.s)for(const r of e.l.s)T(r);t()}function Fn(e,t,r){if(e==null)return t(void 0),r&&r(void 0),ye;const a=Ge(()=>e.subscribe(t,r));return a.unsubscribe?()=>a.unsubscribe():a}let qt=!1;function V(e,t,r){const a=r[t]??(r[t]={store:null,source:Lt(void 0),unsubscribe:ye});if(a.store!==e)if(a.unsubscribe(),a.store=e??null,e==null)a.source.v=void 0,a.unsubscribe=ye;else{var o=!0;a.unsubscribe=Fn(e,n=>{o?a.source.v=n:v(a.source,n)}),o=!1}return T(a.source)}function Ra(e,t){return e.set(t),t}function Pe(){const e={};return Ks(()=>{for(var t in e)e[t].unsubscribe()}),e}function pi(e){var t=qt;try{return qt=!1,[e(),qt]}finally{qt=t}}function Ca(e){for(var t=P,r=P;t!==null&&!(t.f&(se|Tt));)t=t.parent;try{return Ae(t),e()}finally{Ae(r)}}function gr(e,t,r,a){var o=(r&xs)!==0,n=(r&Gs)!==0,s=(r&Is)!==0,l=(r&Ms)!==0,u=!1,i;s?[i,u]=pi(()=>e[t]):i=e[t];var h=Ye(e,t)?.set,_=a,d=!0,c=!1,f=()=>(c=!0,d&&(d=!1,l?_=Ge(a):_=a),_);i===void 0&&a!==void 0&&(h&&n&&ks(),i=f(),h&&h(i));var p;if(n)p=()=>{var g=e[t];return g===void 0?f():(d=!0,c=!1,g)};else{var m=Ca(()=>(o?Fe:$s)(()=>e[t]));m.f|=vs,p=()=>{var g=T(m);return g!==void 0&&(_=void 0),g===void 0?_:g}}if(!(r&qs))return p;if(h){var y=e.$$legacy;return function(g,k){return arguments.length>0?((!n||!k||y||u)&&h(k?p():g),g):p()}}var w=!1,E=!1,S=Lt(i),N=Ca(()=>Fe(()=>{var g=p(),k=T(S),b=R;return w||g===void 0&&b.f&st?(w=!1,E=!0,k):(E=!1,S.v=g)}));return o||(N.equals=Vr),function(g,k){if(arguments.length>0){const b=k?T(N):n&&s?Re(g):g;return N.equals(b)||(w=!0,v(S,b),c&&_!==void 0&&(_=b),Ge(()=>T(N))),g}return T(N)}}function hi(e){return class extends yi{constructor(t){super({component:e,...t})}}}var _e,D;class yi{constructor(t){dr(this,_e);dr(this,D);var r=new Map,a=(n,s)=>{var l=Lt(s);return r.set(n,l),l};const o=new Proxy({...t.props||{},$$events:{}},{get(n,s){return T(r.get(s)??a(s,Reflect.get(n,s)))},has(n,s){return T(r.get(s)??a(s,Reflect.get(n,s))),Reflect.has(n,s)},set(n,s,l){return v(r.get(s)??a(s,l),l),Reflect.set(n,s,l)}});_r(this,D,(t.hydrate?fi:Rn)(t.component,{target:t.target,props:o,context:t.context,intro:t.intro??!1,recover:t.recover})),(!t?.props?.$$host||t.sync===!1)&&zr(),_r(this,_e,o.$$events);for(const n of Object.keys(U(this,D)))n==="$set"||n==="$destroy"||n==="$on"||Ya(this,n,{get(){return U(this,D)[n]},set(s){U(this,D)[n]=s},enumerable:!0});U(this,D).$set=n=>{Object.assign(o,n)},U(this,D).$destroy=()=>{di(U(this,D))}}$set(t){U(this,D).$set(t)}$on(t,r){U(this,_e)[t]=U(this,_e)[t]||[];const a=(...o)=>r.call(this,...o);return U(this,_e)[t].push(a),()=>{U(this,_e)[t]=U(this,_e)[t].filter(o=>o!==a)}}$destroy(){U(this,D).$destroy()}}_e=new WeakMap,D=new WeakMap;function Oe(e){x===null&&Qs(),x.l!==null?mi(x).m.push(e):$t(()=>{const t=Ge(e);if(typeof t=="function")return t})}function mi(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}new URL("sveltekit-internal://");function gi(e,t){return e==="/"||t==="ignore"?e:t==="never"?e.endsWith("/")?e.slice(0,-1):e:t==="always"&&!e.endsWith("/")?e+"/":e}function wi(e){return e.split("%25").map(decodeURI).join("%25")}function vi(e){for(const t in e)e[t]=decodeURIComponent(e[t]);return e}function wr({href:e}){return e.split("#")[0]}const Si=["href","pathname","search","toString","toJSON"];function bi(e,t,r){const a=new URL(e);Object.defineProperty(a,"searchParams",{value:new Proxy(a.searchParams,{get(o,n){if(n==="get"||n==="getAll"||n==="has")return l=>(r(l),o[n](l));t();const s=Reflect.get(o,n);return typeof s=="function"?s.bind(o):s}}),enumerable:!0,configurable:!0});for(const o of Si)Object.defineProperty(a,o,{get(){return t(),e[o]},enumerable:!0,configurable:!0});return a}const Ei="/__data.json",Ni=".html__data.json";function Ti(e){return e.endsWith(".html")?e.replace(/\.html$/,Ni):e.replace(/\/$/,"")+Ei}function Ai(...e){let t=5381;for(const r of e)if(typeof r=="string"){let a=r.length;for(;a;)t=t*33^r.charCodeAt(--a)}else if(ArrayBuffer.isView(r)){const a=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);let o=a.length;for(;o;)t=t*33^a[--o]}else throw new TypeError("value must be a string or TypedArray");return(t>>>0).toString(36)}var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function xc(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var o=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(r,a,o.get?o:{enumerable:!0,get:function(){return e[a]}})}),r}function ki(e){const t=atob(e),r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r.buffer}const xn=window.fetch;window.fetch=(e,t)=>((e instanceof Request?e.method:t?.method||"GET")!=="GET"&&_t.delete(Jr(e)),xn(e,t));const _t=new Map;function Pi(e,t){const r=Jr(e,t),a=document.querySelector(r);if(a?.textContent){let{body:o,...n}=JSON.parse(a.textContent);const s=a.getAttribute("data-ttl");return s&&_t.set(r,{body:o,init:n,ttl:1e3*Number(s)}),a.getAttribute("data-b64")!==null&&(o=ki(o)),Promise.resolve(new Response(o,n))}return window.fetch(e,t)}function Oi(e,t,r){if(_t.size>0){const a=Jr(e,r),o=_t.get(a);if(o){if(performance.now()<o.ttl&&["default","force-cache","only-if-cached",void 0].includes(r?.cache))return new Response(o.body,o.init);_t.delete(a)}}return window.fetch(t,r)}function Jr(e,t){let a=`script[data-sveltekit-fetched][data-url=${JSON.stringify(e instanceof Request?e.url:e)}]`;if(t?.headers||t?.body){const o=[];t.headers&&o.push([...new Headers(t.headers)].join(",")),t.body&&(typeof t.body=="string"||ArrayBuffer.isView(t.body))&&o.push(t.body),a+=`[data-hash="${Ai(...o)}"]`}return a}const Ri=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function Ci(e){const t=[];return{pattern:e==="/"?/^\/$/:new RegExp(`^${xi(e).map(a=>{const o=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(a);if(o)return t.push({name:o[1],matcher:o[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const n=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(a);if(n)return t.push({name:n[1],matcher:n[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!a)return;const s=a.split(/\[(.+?)\](?!\])/);return"/"+s.map((u,i)=>{if(i%2){if(u.startsWith("x+"))return vr(String.fromCharCode(parseInt(u.slice(2),16)));if(u.startsWith("u+"))return vr(String.fromCharCode(...u.slice(2).split("-").map(p=>parseInt(p,16))));const h=Ri.exec(u),[,_,d,c,f]=h;return t.push({name:c,matcher:f,optional:!!_,rest:!!d,chained:d?i===1&&s[0]==="":!1}),d?"(.*?)":_?"([^/]*)?":"([^/]+?)"}return vr(u)}).join("")}).join("")}/?$`),params:t}}function Fi(e){return!/^\([^)]+\)$/.test(e)}function xi(e){return e.slice(1).split("/").filter(Fi)}function Gi(e,t,r){const a={},o=e.slice(1),n=o.filter(l=>l!==void 0);let s=0;for(let l=0;l<t.length;l+=1){const u=t[l];let i=o[l-s];if(u.chained&&u.rest&&s&&(i=o.slice(l-s,l+1).filter(h=>h).join("/"),s=0),i===void 0){u.rest&&(a[u.name]="");continue}if(!u.matcher||r[u.matcher](i)){a[u.name]=i;const h=t[l+1],_=o[l+1];h&&!h.rest&&h.optional&&_&&u.chained&&(s=0),!h&&!_&&Object.keys(a).length===n.length&&(s=0);continue}if(u.optional&&u.chained){s++;continue}return}if(!s)return a}function vr(e){return e.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}function qi({nodes:e,server_loads:t,dictionary:r,matchers:a}){const o=new Set(t);return Object.entries(r).map(([l,[u,i,h]])=>{const{pattern:_,params:d}=Ci(l),c={id:l,exec:f=>{const p=_.exec(f);if(p)return Gi(p,d,a)},errors:[1,...h||[]].map(f=>e[f]),layouts:[0,...i||[]].map(s),leaf:n(u)};return c.errors.length=c.layouts.length=Math.max(c.errors.length,c.layouts.length),c});function n(l){const u=l<0;return u&&(l=~l),[u,e[l]]}function s(l){return l===void 0?l:[o.has(l),e[l]]}}function Gn(e,t=JSON.parse){try{return t(sessionStorage[e])}catch{}}function Fa(e,t,r=JSON.stringify){const a=r(t);try{sessionStorage[e]=a}catch{}}const Be=[];function Ii(e,t){return{subscribe:F(e,t).subscribe}}function F(e,t=ye){let r=null;const a=new Set;function o(l){if(La(e,l)&&(e=l,r)){const u=!Be.length;for(const i of a)i[1](),Be.push(i,e);if(u){for(let i=0;i<Be.length;i+=2)Be[i][0](Be[i+1]);Be.length=0}}}function n(l){o(l(e))}function s(l,u=ye){const i=[l,u];return a.add(i),a.size===1&&(r=t(o,n)||ye),l(e),()=>{a.delete(i),a.size===0&&r&&(r(),r=null)}}return{set:o,update:n,subscribe:s}}function Yr(e,t,r){const a=!Array.isArray(e),o=a?[e]:e;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const n=t.length<2;return Ii(r,(s,l)=>{let u=!1;const i=[];let h=0,_=ye;const d=()=>{if(h)return;_();const f=t(a?i[0]:i,s,l);n?s(f):_=typeof f=="function"?f:ye},c=o.map((f,p)=>Fn(f,m=>{i[p]=m,h&=~(1<<p),u&&d()},()=>{h|=1<<p}));return u=!0,d(),function(){Bt(c),_(),u=!1}})}const te=globalThis.__sveltekit_5xcpi1?.base??"",Mi=globalThis.__sveltekit_5xcpi1?.assets??te,Wi="1744799751248",qn="sveltekit:snapshot",In="sveltekit:scroll",Mn="sveltekit:states",Vi="sveltekit:pageurl",De="sveltekit:history",wt="sveltekit:navigation",Kt={tap:1,hover:2,viewport:3,eager:4,off:-1,false:-1},Pt=location.origin;function Wn(e){if(e instanceof URL)return e;let t=document.baseURI;if(!t){const r=document.getElementsByTagName("base");t=r.length?r[0].href:document.URL}return new URL(e,t)}function Xr(){return{x:pageXOffset,y:pageYOffset}}function He(e,t){return e.getAttribute(`data-sveltekit-${t}`)}const xa={...Kt,"":Kt.hover};function Vn(e){let t=e.assignedSlot??e.parentNode;return t?.nodeType===11&&(t=t.host),t}function Bn(e,t){for(;e&&e!==t;){if(e.nodeName.toUpperCase()==="A"&&e.hasAttribute("href"))return e;e=Vn(e)}}function xr(e,t){let r;try{r=new URL(e instanceof SVGAElement?e.href.baseVal:e.href,document.baseURI)}catch{}const a=e instanceof SVGAElement?e.target.baseVal:e.target,o=!r||!!a||or(r,t)||(e.getAttribute("rel")||"").split(/\s+/).includes("external"),n=r?.origin===Pt&&e.hasAttribute("download");return{url:r,external:o,target:a,download:n}}function Ut(e){let t=null,r=null,a=null,o=null,n=null,s=null,l=e;for(;l&&l!==document.documentElement;)a===null&&(a=He(l,"preload-code")),o===null&&(o=He(l,"preload-data")),t===null&&(t=He(l,"keepfocus")),r===null&&(r=He(l,"noscroll")),n===null&&(n=He(l,"reload")),s===null&&(s=He(l,"replacestate")),l=Vn(l);function u(i){switch(i){case"":case"true":return!0;case"off":case"false":return!1;default:return}}return{preload_code:xa[a??"off"],preload_data:xa[o??"off"],keepfocus:u(t),noscroll:u(r),reload:u(n),replace_state:u(s)}}function Ga(e){const t=F(e);let r=!0;function a(){r=!0,t.update(s=>s)}function o(s){r=!1,t.set(s)}function n(s){let l;return t.subscribe(u=>{(l===void 0||r&&u!==l)&&s(l=u)})}return{notify:a,set:o,subscribe:n}}function Bi(){const{set:e,subscribe:t}=F(!1);let r;async function a(){clearTimeout(r);try{const o=await fetch(`${Mi}/_app/version.json`,{headers:{pragma:"no-cache","cache-control":"no-cache"}});if(!o.ok)return!1;const s=(await o.json()).version!==Wi;return s&&(e(!0),clearTimeout(r)),s}catch{return!1}}return{subscribe:t,check:a}}function or(e,t){return e.origin!==Pt||!e.pathname.startsWith(t)}const Hn=new Set(["load","prerender","csr","ssr","trailingSlash","config"]);[...Hn];const Hi=new Set([...Hn]);[...Hi];function $i(e){return e.filter(t=>t!=null)}class sr{constructor(t,r){this.status=t,typeof r=="string"?this.body={message:r}:r?this.body=r:this.body={message:`Error: ${t}`}}toString(){return JSON.stringify(this.body)}}class $n{constructor(t,r){this.status=t,this.location=r}}class Qr extends Error{constructor(t,r,a){super(a),this.status=t,this.text=r}}const ji="x-sveltekit-invalidated",Ki="x-sveltekit-trailing-slash";function zt(e){return e instanceof sr||e instanceof Qr?e.status:500}function Ui(e){return e instanceof Qr?e.text:"Internal Error"}const qe=Gn(In)??{},vt=Gn(qn)??{},me={url:Ga({}),page:Ga({}),navigating:F(null),updated:Bi()};function Zr(e){qe[e]=Xr()}function zi(e,t){let r=e+1;for(;qe[r];)delete qe[r],r+=1;for(r=t+1;vt[r];)delete vt[r],r+=1}function at(e){return location.href=e.href,new Promise(()=>{})}async function jn(){if("serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistration(te||"/");e&&await e.update()}}function qa(){}let ir,Gr,Jt,pe,qr,ct;const Kn=[],Yt=[];let be=null;const Un=[],Ji=[];let Je=[],C={branch:[],error:null,url:null},Dr=!1,Xt=!1,Ia=!0,St=!1,ft=!1,zn=!1,Lr=!1,ea,H,ee,L,Qt;const pt=new Set;async function Gc(e,t,r){document.URL!==location.href&&(location.href=location.href),ct=e,ir=qi(e),pe=document.documentElement,qr=t,Gr=e.nodes[0],Jt=e.nodes[1],Gr(),Jt(),H=history.state?.[De],ee=history.state?.[wt],H||(H=ee=Date.now(),history.replaceState({...history.state,[De]:H,[wt]:ee},""));const a=qe[H];a&&(history.scrollRestoration="manual",scrollTo(a.x,a.y)),r?await tl(qr,r):Li(location.href,{replaceState:!0}),el()}function Yi(){Kn.length=0,Lr=!1}function Jn(e){Yt.some(t=>t?.snapshot)&&(vt[e]=Yt.map(t=>t?.snapshot?.capture()))}function Yn(e){vt[e]?.forEach((t,r)=>{Yt[r]?.snapshot?.restore(t)})}function Ma(){Zr(H),Fa(In,qe),Jn(ee),Fa(qn,vt)}async function Xn(e,t,r,a){return Vt({type:"goto",url:Wn(e),keepfocus:t.keepFocus,noscroll:t.noScroll,replace_state:t.replaceState,state:t.state,redirect_count:r,nav_token:a,accept:()=>{t.invalidateAll&&(Lr=!0)}})}async function Xi(e){if(e.id!==be?.id){const t={};pt.add(t),be={id:e.id,token:t,promise:Zn({...e,preload:t}).then(r=>(pt.delete(t),r.type==="loaded"&&r.state.error&&(be=null),r))}}return be.promise}async function Sr(e){const t=ir.find(r=>r.exec(Dn(e)));t&&await Promise.all([...t.layouts,t.leaf].map(r=>r?.[1]()))}function Qn(e,t,r){C=e.state;const a=document.querySelector("style[data-sveltekit]");a&&a.remove(),L=e.props.page,ea=new ct.root({target:t,props:{...e.props,stores:me,components:Yt},hydrate:r,sync:!1}),Yn(ee);const o={from:null,to:{params:C.params,route:{id:C.route?.id??null},url:new URL(location.href)},willUnload:!1,type:"enter",complete:Promise.resolve()};Je.forEach(n=>n(o)),Xt=!0}function Zt({url:e,params:t,branch:r,status:a,error:o,route:n,form:s}){let l="never";if(te&&(e.pathname===te||e.pathname===te+"/"))l="always";else for(const c of r)c?.slash!==void 0&&(l=c.slash);e.pathname=gi(e.pathname,l),e.search=e.search;const u={type:"loaded",state:{url:e,params:t,branch:r,error:o,route:n},props:{constructors:$i(r).map(c=>c.node.component),page:L}};s!==void 0&&(u.props.form=s);let i={},h=!L,_=0;for(let c=0;c<Math.max(r.length,C.branch.length);c+=1){const f=r[c],p=C.branch[c];f?.data!==p?.data&&(h=!0),f&&(i={...i,...f.data},h&&(u.props[`data_${_}`]=i),_+=1)}return(!C.url||e.href!==C.url.href||C.error!==o||s!==void 0&&s!==L.form||h)&&(u.props.page={error:o,params:t,route:{id:n?.id??null},state:{},status:a,url:new URL(e),form:s??null,data:h?i:L.data}),u}async function ta({loader:e,parent:t,url:r,params:a,route:o,server_data_node:n}){let s=null,l=!0;const u={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1,search_params:new Set},i=await e();if(i.universal?.load){let h=function(...d){for(const c of d){const{href:f}=new URL(c,r);u.dependencies.add(f)}};const _={route:new Proxy(o,{get:(d,c)=>(l&&(u.route=!0),d[c])}),params:new Proxy(a,{get:(d,c)=>(l&&u.params.add(c),d[c])}),data:n?.data??null,url:bi(r,()=>{l&&(u.url=!0)},d=>{l&&u.search_params.add(d)}),async fetch(d,c){let f;d instanceof Request?(f=d.url,c={body:d.method==="GET"||d.method==="HEAD"?void 0:await d.blob(),cache:d.cache,credentials:d.credentials,headers:d.headers,integrity:d.integrity,keepalive:d.keepalive,method:d.method,mode:d.mode,redirect:d.redirect,referrer:d.referrer,referrerPolicy:d.referrerPolicy,signal:d.signal,...c}):f=d;const p=new URL(f,r);return l&&h(p.href),p.origin===r.origin&&(f=p.href.slice(r.origin.length)),Xt?Oi(f,p.href,c):Pi(f,c)},setHeaders:()=>{},depends:h,parent(){return l&&(u.parent=!0),t()},untrack(d){l=!1;try{return d()}finally{l=!0}}};s=await i.universal.load.call(null,_)??null}return{node:i,loader:e,server:n,universal:i.universal?.load?{type:"data",data:s,uses:u}:null,data:s??n?.data??null,slash:i.universal?.trailingSlash??n?.slash}}function Wa(e,t,r,a,o,n){if(Lr)return!0;if(!o)return!1;if(o.parent&&e||o.route&&t||o.url&&r)return!0;for(const s of o.search_params)if(a.has(s))return!0;for(const s of o.params)if(n[s]!==C.params[s])return!0;for(const s of o.dependencies)if(Kn.some(l=>l(new URL(s))))return!0;return!1}function ra(e,t){return e?.type==="data"?e:e?.type==="skip"?t??null:null}function Qi(e,t){if(!e)return new Set(t.searchParams.keys());const r=new Set([...e.searchParams.keys(),...t.searchParams.keys()]);for(const a of r){const o=e.searchParams.getAll(a),n=t.searchParams.getAll(a);o.every(s=>n.includes(s))&&n.every(s=>o.includes(s))&&r.delete(a)}return r}function Va({error:e,url:t,route:r,params:a}){return{type:"loaded",state:{error:e,url:t,route:r,params:a,branch:[]},props:{page:L,constructors:[]}}}async function Zn({id:e,invalidating:t,url:r,params:a,route:o,preload:n}){if(be?.id===e)return pt.delete(be.token),be.promise;const{errors:s,layouts:l,leaf:u}=o,i=[...l,u];s.forEach(S=>S?.().catch(()=>{})),i.forEach(S=>S?.[1]().catch(()=>{}));let h=null;const _=C.url?e!==C.url.pathname+C.url.search:!1,d=C.route?o.id!==C.route.id:!1,c=Qi(C.url,r);let f=!1;const p=i.map((S,N)=>{const g=C.branch[N],k=!!S?.[0]&&(g?.loader!==S[1]||Wa(f,d,_,c,g.server?.uses,a));return k&&(f=!0),k});if(p.some(Boolean)){try{h=await to(r,p)}catch(S){const N=await Le(S,{url:r,params:a,route:{id:e}});return pt.has(n)?Va({error:N,url:r,params:a,route:o}):lr({status:zt(S),error:N,url:r,route:o})}if(h.type==="redirect")return h}const m=h?.nodes;let y=!1;const w=i.map(async(S,N)=>{if(!S)return;const g=C.branch[N],k=m?.[N];if((!k||k.type==="skip")&&S[1]===g?.loader&&!Wa(y,d,_,c,g.universal?.uses,a))return g;if(y=!0,k?.type==="error")throw k;return ta({loader:S[1],url:r,params:a,route:o,parent:async()=>{const $={};for(let re=0;re<N;re+=1)Object.assign($,(await w[re])?.data);return $},server_data_node:ra(k===void 0&&S[0]?{type:"skip"}:k??null,S[0]?g?.server:void 0)})});for(const S of w)S.catch(()=>{});const E=[];for(let S=0;S<i.length;S+=1)if(i[S])try{E.push(await w[S])}catch(N){if(N instanceof $n)return{type:"redirect",location:N.location};if(pt.has(n))return Va({error:await Le(N,{params:a,url:r,route:{id:o.id}}),url:r,params:a,route:o});let g=zt(N),k;if(m?.includes(N))g=N.status??g,k=N.error;else if(N instanceof sr)k=N.body;else{if(await me.updated.check())return await jn(),await at(r);k=await Le(N,{params:a,url:r,route:{id:o.id}})}const b=await Zi(S,E,s);return b?Zt({url:r,params:a,branch:E.slice(0,b.idx).concat(b.node),status:g,error:k,route:o}):await eo(r,{id:o.id},k,g)}else E.push(void 0);return Zt({url:r,params:a,branch:E,status:200,error:null,route:o,form:t?void 0:null})}async function Zi(e,t,r){for(;e--;)if(r[e]){let a=e;for(;!t[a];)a-=1;try{return{idx:a+1,node:{node:await r[e](),loader:r[e],data:{},server:null,universal:null}}}catch{continue}}}async function lr({status:e,error:t,url:r,route:a}){const o={};let n=null;if(ct.server_loads[0]===0)try{const i=await to(r,[!0]);if(i.type!=="data"||i.nodes[0]&&i.nodes[0].type!=="data")throw 0;n=i.nodes[0]??null}catch{(r.origin!==Pt||r.pathname!==location.pathname||Dr)&&await at(r)}const l=await ta({loader:Gr,url:r,params:o,route:a,parent:()=>Promise.resolve({}),server_data_node:ra(n)}),u={node:await Jt(),loader:Jt,universal:null,server:null,data:null};return Zt({url:r,params:o,branch:[l,u],status:e,error:t,route:null})}function aa(e,t){if(!e||or(e,te))return;let r;try{r=ct.hooks.reroute({url:new URL(e)})??e.pathname}catch{return}const a=Dn(r);for(const o of ir){const n=o.exec(a);if(n)return{id:e.pathname+e.search,invalidating:t,route:o,params:vi(n),url:e}}}function Dn(e){return wi(e.slice(te.length)||"/")}function Ln({url:e,type:t,intent:r,delta:a}){let o=!1;const n=ao(C,r,e,t);a!==void 0&&(n.navigation.delta=a);const s={...n.navigation,cancel:()=>{o=!0,n.reject(new Error("navigation cancelled"))}};return St||Un.forEach(l=>l(s)),o?null:n}async function Vt({type:e,url:t,popped:r,keepfocus:a,noscroll:o,replace_state:n,state:s={},redirect_count:l=0,nav_token:u={},accept:i=qa,block:h=qa}){const _=aa(t,!1),d=Ln({url:t,type:e,delta:r?.delta,intent:_});if(!d){h();return}const c=H,f=ee;i(),St=!0,Xt&&me.navigating.set(d.navigation),Qt=u;let p=_&&await Zn(_);if(!p){if(or(t,te))return await at(t);p=await eo(t,{id:null},await Le(new Qr(404,"Not Found",`Not found: ${t.pathname}`),{url:t,params:{},route:{id:null}}),404)}if(t=_?.url||t,Qt!==u)return d.reject(new Error("navigation aborted")),!1;if(p.type==="redirect")if(l>=20)p=await lr({status:500,error:await Le(new Error("Redirect loop"),{url:t,params:{},route:{id:null}}),url:t,route:{id:null}});else return Xn(new URL(p.location,t).href,{},l+1,u),!1;else p.props.page.status>=400&&await me.updated.check()&&(await jn(),await at(t));if(Yi(),Zr(c),Jn(f),p.props.page.url.pathname!==t.pathname&&(t.pathname=p.props.page.url.pathname),s=r?r.state:s,!r){const E=n?0:1,S={[De]:H+=E,[wt]:ee+=E,[Mn]:s};(n?history.replaceState:history.pushState).call(history,S,"",t),n||zi(H,ee)}if(be=null,p.props.page.state=s,Xt){C=p.state,p.props.page&&(p.props.page.url=t);const E=(await Promise.all(Ji.map(S=>S(d.navigation)))).filter(S=>typeof S=="function");if(E.length>0){let S=function(){Je=Je.filter(N=>!E.includes(N))};E.push(S),Je.push(...E)}ea.$set(p.props),zn=!0}else Qn(p,qr,!1);const{activeElement:m}=document;await On();const y=r?r.scroll:o?Xr():null;if(Ia){const E=t.hash&&document.getElementById(decodeURIComponent(t.hash.slice(1)));y?scrollTo(y.x,y.y):E?E.scrollIntoView():scrollTo(0,0)}const w=document.activeElement!==m&&document.activeElement!==document.body;!a&&!w&&rl(),Ia=!0,p.props.page&&(L=p.props.page),St=!1,e==="popstate"&&Yn(ee),d.fulfil(void 0),Je.forEach(E=>E(d.navigation)),me.navigating.set(null)}async function eo(e,t,r,a){return e.origin===Pt&&e.pathname===location.pathname&&!Dr?await lr({status:a,error:r,url:e,route:t}):await at(e)}function Di(){let e;pe.addEventListener("mousemove",n=>{const s=n.target;clearTimeout(e),e=setTimeout(()=>{a(s,2)},20)});function t(n){a(n.composedPath()[0],1)}pe.addEventListener("mousedown",t),pe.addEventListener("touchstart",t,{passive:!0});const r=new IntersectionObserver(n=>{for(const s of n)s.isIntersecting&&(Sr(s.target.href),r.unobserve(s.target))},{threshold:0});function a(n,s){const l=Bn(n,pe);if(!l)return;const{url:u,external:i,download:h}=xr(l,te);if(i||h)return;const _=Ut(l),d=u&&C.url.pathname+C.url.search===u.pathname+u.search;if(!_.reload&&!d)if(s<=_.preload_data){const c=aa(u,!1);c&&Xi(c)}else s<=_.preload_code&&Sr(u.pathname)}function o(){r.disconnect();for(const n of pe.querySelectorAll("a")){const{url:s,external:l,download:u}=xr(n,te);if(l||u)continue;const i=Ut(n);i.reload||(i.preload_code===Kt.viewport&&r.observe(n),i.preload_code===Kt.eager&&Sr(s.pathname))}}Je.push(o),o()}function Le(e,t){if(e instanceof sr)return e.body;const r=zt(e),a=Ui(e);return ct.hooks.handleError({error:e,event:t,status:r,message:a})??{message:a}}function Li(e,t={}){return e=Wn(e),e.origin!==Pt?Promise.reject(new Error("goto: invalid URL")):Xn(e,t,0)}function el(){history.scrollRestoration="manual",addEventListener("beforeunload",t=>{let r=!1;if(Ma(),!St){const a=ao(C,void 0,null,"leave"),o={...a.navigation,cancel:()=>{r=!0,a.reject(new Error("navigation cancelled"))}};Un.forEach(n=>n(o))}r?(t.preventDefault(),t.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&Ma()}),navigator.connection?.saveData||Di(),pe.addEventListener("click",async t=>{if(t.button||t.which!==1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.defaultPrevented)return;const r=Bn(t.composedPath()[0],pe);if(!r)return;const{url:a,external:o,target:n,download:s}=xr(r,te);if(!a)return;if(n==="_parent"||n==="_top"){if(window.parent!==window)return}else if(n&&n!=="_self")return;const l=Ut(r);if(!(r instanceof SVGAElement)&&a.protocol!==location.protocol&&!(a.protocol==="https:"||a.protocol==="http:")||s)return;if(o||l.reload){Ln({url:a,type:"link"})?St=!0:t.preventDefault();return}const[i,h]=a.href.split("#");if(h!==void 0&&i===wr(location)){const[,_]=C.url.href.split("#");if(_===h){t.preventDefault(),h===""||h==="top"&&r.ownerDocument.getElementById("top")===null?window.scrollTo({top:0}):r.ownerDocument.getElementById(decodeURIComponent(h))?.scrollIntoView();return}if(ft=!0,Zr(H),e(a),!l.replace_state)return;ft=!1}t.preventDefault(),await new Promise(_=>{requestAnimationFrame(()=>{setTimeout(_,0)}),setTimeout(_,100)}),Vt({type:"link",url:a,keepfocus:l.keepfocus,noscroll:l.noscroll,replace_state:l.replace_state??a.href===location.href})}),pe.addEventListener("submit",t=>{if(t.defaultPrevented)return;const r=HTMLFormElement.prototype.cloneNode.call(t.target),a=t.submitter;if((a?.formTarget||r.target)==="_blank"||(a?.formMethod||r.method)!=="get")return;const s=new URL(a?.hasAttribute("formaction")&&a?.formAction||r.action);if(or(s,te))return;const l=t.target,u=Ut(l);if(u.reload)return;t.preventDefault(),t.stopPropagation();const i=new FormData(l),h=a?.getAttribute("name");h&&i.append(h,a?.getAttribute("value")??""),s.search=new URLSearchParams(i).toString(),Vt({type:"form",url:s,keepfocus:u.keepfocus,noscroll:u.noscroll,replace_state:u.replace_state??s.href===location.href})}),addEventListener("popstate",async t=>{if(t.state?.[De]){const r=t.state[De];if(Qt={},r===H)return;const a=qe[r],o=t.state[Mn]??{},n=new URL(t.state[Vi]??location.href),s=t.state[wt],l=wr(location)===wr(C.url);if(s===ee&&(zn||l)){e(n),qe[H]=Xr(),a&&scrollTo(a.x,a.y),o!==L.state&&(L={...L,state:o},ea.$set({page:L})),H=r;return}const i=r-H;await Vt({type:"popstate",url:n,popped:{state:o,scroll:a,delta:i},accept:()=>{H=r,ee=s},block:()=>{history.go(-i)},nav_token:Qt})}else if(!ft){const r=new URL(location.href);e(r)}}),addEventListener("hashchange",()=>{ft&&(ft=!1,history.replaceState({...history.state,[De]:++H,[wt]:ee},"",location.href))});for(const t of document.querySelectorAll("link"))t.rel==="icon"&&(t.href=t.href);addEventListener("pageshow",t=>{t.persisted&&me.navigating.set(null)});function e(t){C.url=t,me.page.set({...L,url:t}),me.page.notify()}}async function tl(e,{status:t=200,error:r,node_ids:a,params:o,route:n,data:s,form:l}){Dr=!0;const u=new URL(location.href);({params:o={},route:n={id:null}}=aa(u,!1)||{});let i;try{const h=a.map(async(c,f)=>{const p=s[f];return p?.uses&&(p.uses=ro(p.uses)),ta({loader:ct.nodes[c],url:u,params:o,route:n,parent:async()=>{const m={};for(let y=0;y<f;y+=1)Object.assign(m,(await h[y]).data);return m},server_data_node:ra(p)})}),_=await Promise.all(h),d=ir.find(({id:c})=>c===n.id);if(d){const c=d.layouts;for(let f=0;f<c.length;f++)c[f]||_.splice(f,0,void 0)}i=Zt({url:u,params:o,branch:_,status:t,error:r,form:l,route:d??null})}catch(h){if(h instanceof $n){await at(new URL(h.location,location.href));return}i=await lr({status:zt(h),error:await Le(h,{url:u,params:o,route:n}),url:u,route:n})}i.props.page&&(i.props.page.state={}),Qn(i,e,!0)}async function to(e,t){const r=new URL(e);r.pathname=Ti(e.pathname),e.pathname.endsWith("/")&&r.searchParams.append(Ki,"1"),r.searchParams.append(ji,t.map(o=>o?"1":"0").join(""));const a=await xn(r.href);if(!a.ok){let o;throw a.headers.get("content-type")?.includes("application/json")?o=await a.json():a.status===404?o="Not Found":a.status===500&&(o="Internal Error"),new sr(a.status,o)}return new Promise(async o=>{const n=new Map,s=a.body.getReader(),l=new TextDecoder;function u(h){return fs(h,{Promise:_=>new Promise((d,c)=>{n.set(_,{fulfil:d,reject:c})})})}let i="";for(;;){const{done:h,value:_}=await s.read();if(h&&!i)break;for(i+=!_&&i?`
`:l.decode(_,{stream:!0});;){const d=i.indexOf(`
`);if(d===-1)break;const c=JSON.parse(i.slice(0,d));if(i=i.slice(d+1),c.type==="redirect")return o(c);if(c.type==="data")c.nodes?.forEach(f=>{f?.type==="data"&&(f.uses=ro(f.uses),f.data=u(f.data))}),o(c);else if(c.type==="chunk"){const{id:f,data:p,error:m}=c,y=n.get(f);n.delete(f),m?y.reject(u(m)):y.fulfil(u(p))}}}})}function ro(e){return{dependencies:new Set(e?.dependencies??[]),params:new Set(e?.params??[]),parent:!!e?.parent,route:!!e?.route,url:!!e?.url,search_params:new Set(e?.search_params??[])}}function rl(){const e=document.querySelector("[autofocus]");if(e)e.focus();else{const t=document.body,r=t.getAttribute("tabindex");t.tabIndex=-1,t.focus({preventScroll:!0,focusVisible:!1}),r!==null?t.setAttribute("tabindex",r):t.removeAttribute("tabindex");const a=getSelection();if(a&&a.type!=="None"){const o=[];for(let n=0;n<a.rangeCount;n+=1)o.push(a.getRangeAt(n));setTimeout(()=>{if(a.rangeCount===o.length){for(let n=0;n<a.rangeCount;n+=1){const s=o[n],l=a.getRangeAt(n);if(s.commonAncestorContainer!==l.commonAncestorContainer||s.startContainer!==l.startContainer||s.endContainer!==l.endContainer||s.startOffset!==l.startOffset||s.endOffset!==l.endOffset)return}a.removeAllRanges()}})}}}function ao(e,t,r,a){let o,n;const s=new Promise((u,i)=>{o=u,n=i});return s.catch(()=>{}),{navigation:{from:{params:e.params,route:{id:e.route?.id??null},url:e.url},to:r&&{params:t?.params??null,route:{id:t?.route?.id??null},url:r},willUnload:!t,type:a,complete:s},fulfil:o,reject:n}}const al="modulepreload",nl=function(e,t){return new URL(e,t).href},Ba={},ae=function(t,r,a){let o=Promise.resolve();if(r&&r.length>0){const s=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");o=Promise.allSettled(r.map(i=>{if(i=nl(i,a),i in Ba)return;Ba[i]=!0;const h=i.endsWith(".css"),_=h?'[rel="stylesheet"]':"";if(!!a)for(let f=s.length-1;f>=0;f--){const p=s[f];if(p.href===i&&(!h||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${_}`))return;const c=document.createElement("link");if(c.rel=h?"stylesheet":al,h||(c.as="script"),c.crossOrigin="",c.href=i,u&&c.setAttribute("nonce",u),document.head.appendChild(c),h)return new Promise((f,p)=>{c.addEventListener("load",f),c.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${i}`)))})}))}function n(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return o.then(s=>{for(const l of s||[])l.status==="rejected"&&n(l.reason);return t().catch(n)})},qc={},ol="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ol);var sl=nr('<div id="svelte-announcer" aria-live="assertive" aria-atomic="true" style="position: absolute; left: 0; top: 0; clip: rect(0 0 0 0); clip-path: inset(50%); overflow: hidden; white-space: nowrap; width: 1px; height: 1px"><!></div>'),il=nr("<!> <!>",1);function ll(e,t){le(t,!0);let r=gr(t,"components",23,()=>[]),a=gr(t,"data_0",3,null),o=gr(t,"data_1",3,null);_n(()=>t.stores.page.set(t.page)),$t(()=>{t.stores,t.page,t.constructors,r(),t.form,a(),o(),t.stores.page.notify()});let n=pr(!1),s=pr(!1),l=pr(null);Oe(()=>{const d=t.stores.page.subscribe(()=>{T(n)&&(v(s,!0),On().then(()=>{v(l,Re(document.title||"untitled page"))}))});return v(n,!0),d});const u=Fe(()=>t.constructors[1]);var i=il(),h=Ue(i);hr(h,()=>t.constructors[1],d=>{var c=Wt();const f=Fe(()=>t.constructors[0]);var p=Ue(c);yr(p,()=>T(f),(m,y)=>{mr(y(m,{get data(){return a()},get form(){return t.form},children:(w,E)=>{var S=Wt(),N=Ue(S);yr(N,()=>T(u),(g,k)=>{mr(k(g,{get data(){return o()},get form(){return t.form}}),b=>r()[1]=b,()=>r()?.[1])}),de(w,S)},$$slots:{default:!0}}),w=>r()[0]=w,()=>r()?.[0])}),de(d,c)},d=>{var c=Wt();const f=Fe(()=>t.constructors[0]);var p=Ue(c);yr(p,()=>T(f),(m,y)=>{mr(y(m,{get data(){return a()},get form(){return t.form}}),w=>r()[0]=w,()=>r()?.[0])}),de(d,c)});var _=ln(h,2);hr(_,()=>T(n),d=>{var c=sl(),f=kr(c);hr(f,()=>T(s),p=>{var m=li();pn(()=>Cr(m,T(l))),de(p,m)}),Tr(c),de(d,c)}),de(e,i),ce()}const Ic=hi(ll),Mc=[()=>ae(()=>Promise.resolve().then(()=>ul),void 0,import.meta.url),()=>ae(()=>Promise.resolve().then(()=>pl),void 0,import.meta.url),()=>ae(()=>Promise.resolve().then(()=>fc),void 0,import.meta.url),()=>ae(()=>Promise.resolve().then(()=>_c),void 0,import.meta.url),()=>ae(()=>Promise.resolve().then(()=>hc),void 0,import.meta.url),()=>ae(()=>Promise.resolve().then(()=>mc),void 0,import.meta.url),()=>ae(()=>Promise.resolve().then(()=>wc),void 0,import.meta.url),()=>ae(()=>Promise.resolve().then(()=>bc),void 0,import.meta.url),()=>ae(()=>Promise.resolve().then(()=>Nc),void 0,import.meta.url),()=>ae(()=>Promise.resolve().then(()=>Ac),void 0,import.meta.url),()=>ae(()=>Promise.resolve().then(()=>Pc),void 0,import.meta.url)],Wc=[],Vc={"/":[2],"/clubs":[4],"/club":[3],"/gameplay-rules":[5],"/manager":[6],"/pick-team":[7],"/player":[8],"/profile":[9],"/terms":[10]},Bc={handleError:({error:e})=>{console.error(e)},reroute:()=>{}};function cl(e,t){le(t,!0);var r=Wt(),a=Ue(r);_i(a,()=>t.children),de(e,r),ce()}const ul=Object.freeze(Object.defineProperty({__proto__:null,component:cl},Symbol.toStringTag,{value:"Module"})),fl=()=>{const e=me;return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},updated:e.updated}},cr={subscribe(e){return fl().page.subscribe(e)}};var dl=nr("<h1> </h1> <p> </p>",1);function _l(e,t){le(t,!1);const r=Pe(),a=()=>V(cr,"$page",r);ke();var o=dl(),n=Ue(o),s=kr(n,!0);Tr(n);var l=ln(n,2),u=kr(l,!0);Tr(l),pn(()=>{Cr(s,a().status),Cr(u,a().error?.message)}),de(e,o),ce()}const pl=Object.freeze(Object.defineProperty({__proto__:null,component:_l},Symbol.toStringTag,{value:"Module"})),hl=BigInt(60*60*1e3*1e3*1e3*24*14),yl=576,ml=625,br=()=>ds.create({idleOptions:{disableIdle:!0,disableDefaultIdleCallback:!0}}),gl=({width:e,height:t})=>{if(wa(window)||wa(window.top))return;const{top:{innerWidth:r,innerHeight:a}}=window,o=a/2+screenY-t/2,n=r/2+screenX-e/2;return`toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=no, copyhistory=no, width=${e}, height=${t}, top=${o}, left=${n}`};let ue;const wl="https://openwsl.xyz",vl="https://5ido2-wqaaa-aaaal-qmzra-cai.icp0.io",Sl=()=>window.location.origin===wl,bl=()=>{const{subscribe:e,set:t,update:r}=F({identity:void 0});return{subscribe:e,sync:async()=>{ue=ue??await br();const a=await ue.isAuthenticated();t({identity:a?ue.getIdentity():null})},signIn:({domain:a})=>new Promise(async(o,n)=>{ue=ue??await br();const s=a;await ue?.login({maxTimeToLive:hl,onSuccess:()=>{r(l=>({...l,identity:ue?.getIdentity()})),o()},onError:n,identityProvider:s,...Sl()&&{derivationOrigin:vl},windowOpenerFeatures:gl({width:yl,height:ml})})}),signOut:async()=>{await(ue??await br()).logout(),ue=null,r(o=>({...o,identity:null})),localStorage.removeItem("user_profile_data")}}},oe=bl();function El(){const{subscribe:e,set:t}=F(null);return{subscribe:e,setSystemState:r=>t(r)}}const Q=El(),J=({IDL:e})=>{const t=e.Rec(),r=e.Rec(),a=e.Variant({MoreThan2PlayersFromClub:e.Null,DecodeError:e.Null,NotAllowed:e.Null,DuplicatePlayerInTeam:e.Null,InvalidBonuses:e.Null,TooManyTransfers:e.Null,NotFound:e.Null,NumberPerPositionError:e.Null,TeamOverspend:e.Null,NotAuthorized:e.Null,SelectedCaptainNotInTeam:e.Null,InvalidData:e.Null,SystemOnHold:e.Null,AlreadyExists:e.Null,CanisterCreateError:e.Null,Not11Players:e.Null}),o=e.Variant({ok:e.Null,err:a}),n=e.Nat8,s=e.Variant({ok:e.Text,err:a}),l=e.Variant({SNS:e.Null,Leaderboard:e.Null,Dapp:e.Null,Archive:e.Null,Manager:e.Null}),u=e.Record({canisterType:l}),i=e.Text,h=e.Record({topupTime:e.Int,canisterId:i,cyclesAmount:e.Nat}),_=e.Record({cycles:e.Nat,topups:e.Vec(h),computeAllocation:e.Nat,canisterId:i}),d=e.Variant({ok:e.Vec(_),err:a}),c=e.Nat16,f=e.Variant({Filled:e.Null,Striped:e.Null}),p=e.Record({id:c,secondaryColourHex:e.Text,name:e.Text,friendlyName:e.Text,thirdColourHex:e.Text,abbreviatedName:e.Text,shirtType:f,primaryColourHex:e.Text}),m=e.Variant({ok:e.Vec(p),err:a}),y=e.Nat16,w=e.Record({id:y,code:e.Text,name:e.Text}),E=e.Variant({ok:e.Vec(w),err:a}),S=e.Record({playerIds:e.Vec(c),username:e.Text,goalGetterPlayerId:c,oneNationCountryId:y,hatTrickHeroGameweek:n,transfersAvailable:e.Nat8,oneNationGameweek:n,teamBoostGameweek:n,captainFantasticGameweek:n,bankQuarterMillions:e.Nat16,noEntryPlayerId:c,safeHandsPlayerId:c,braceBonusGameweek:n,passMasterGameweek:n,teamBoostClubId:c,goalGetterGameweek:n,firstGameweek:e.Bool,captainFantasticPlayerId:c,transferWindowGameweek:n,noEntryGameweek:n,prospectsGameweek:n,safeHandsGameweek:n,principalId:e.Text,passMasterPlayerId:c,captainId:c,canisterId:i,monthlyBonusesAvailable:e.Nat8}),N=e.Variant({ok:S,err:a}),g=e.Record({hash:e.Text,category:e.Text}),k=e.Variant({ok:e.Vec(g),err:a}),b=e.Nat16,$=e.Text,re=e.Record({seasonId:b,managerPrincipalId:$,gameweek:n}),q=e.Nat8,fo=e.Record({playerIds:e.Vec(c),month:q,teamValueQuarterMillions:e.Nat16,username:e.Text,goalGetterPlayerId:c,oneNationCountryId:y,hatTrickHeroGameweek:n,transfersAvailable:e.Nat8,oneNationGameweek:n,teamBoostGameweek:n,captainFantasticGameweek:n,bankQuarterMillions:e.Nat16,noEntryPlayerId:c,monthlyPoints:e.Int16,safeHandsPlayerId:c,seasonId:b,braceBonusGameweek:n,favouriteClubId:c,passMasterGameweek:n,teamBoostClubId:c,goalGetterGameweek:n,captainFantasticPlayerId:c,gameweek:n,seasonPoints:e.Int16,transferWindowGameweek:n,noEntryGameweek:n,prospectsGameweek:n,safeHandsGameweek:n,principalId:e.Text,passMasterPlayerId:c,captainId:c,points:e.Int16,monthlyBonusesAvailable:e.Nat8}),_o=e.Variant({ok:fo,err:a}),ur=e.Nat16,po=e.Variant({Unplayed:e.Null,Finalised:e.Null,Active:e.Null,Complete:e.Null}),sa=e.Nat32,ho=e.Variant({PenaltyMissed:e.Null,Goal:e.Null,GoalConceded:e.Null,Appearance:e.Null,PenaltySaved:e.Null,RedCard:e.Null,KeeperSave:e.Null,CleanSheet:e.Null,YellowCard:e.Null,GoalAssisted:e.Null,OwnGoal:e.Null,HighestScoringPlayer:e.Null}),Ot=e.Record({fixtureId:sa,clubId:c,playerId:e.Nat16,eventStartMinute:e.Nat8,eventEndMinute:e.Nat8,eventType:ho}),yo=e.Record({id:e.Nat32,status:po,highestScoringPlayerId:e.Nat16,seasonId:b,awayClubId:c,events:e.Vec(Ot),homeClubId:c,kickOff:e.Int,homeGoals:e.Nat8,gameweek:n,awayGoals:e.Nat8}),ia=e.Variant({ok:e.Vec(yo),err:a}),la=e.Variant({ok:e.Vec(i),err:a}),ca=e.Record({clubId:c,leagueId:ur}),ua=e.Variant({OnLoan:e.Null,Active:e.Null,FreeAgent:e.Null,Retired:e.Null}),Rt=e.Variant({Goalkeeper:e.Null,Midfielder:e.Null,Forward:e.Null,Defender:e.Null}),fa=e.Record({id:e.Nat16,status:ua,clubId:c,valueQuarterMillions:e.Nat16,dateOfBirth:e.Int,nationality:y,shirtNumber:e.Nat8,position:Rt,lastName:e.Text,firstName:e.Text}),Ct=e.Variant({ok:e.Vec(fa),err:a}),mo=e.Record({month:q,clubId:c,seasonId:b,managerId:e.Text,gameweek:n}),Z=e.Nat16,go=e.Record({playerIds:e.Vec(Z),month:q,teamValueQuarterMillions:e.Nat16,username:e.Text,goalGetterPlayerId:Z,oneNationCountryId:y,hatTrickHeroGameweek:n,transfersAvailable:e.Nat8,oneNationGameweek:n,teamBoostGameweek:n,captainFantasticGameweek:n,bankQuarterMillions:e.Nat16,noEntryPlayerId:Z,monthlyPoints:e.Int16,safeHandsPlayerId:Z,seasonId:b,braceBonusGameweek:n,favouriteClubId:e.Opt(c),passMasterGameweek:n,teamBoostClubId:c,goalGetterGameweek:n,captainFantasticPlayerId:Z,gameweek:n,seasonPoints:e.Int16,transferWindowGameweek:n,noEntryGameweek:n,prospectsGameweek:n,safeHandsGameweek:n,principalId:e.Text,passMasterPlayerId:Z,captainId:Z,points:e.Int16,monthlyBonusesAvailable:e.Nat8}),wo=e.Record({username:e.Text,weeklyPosition:e.Int,createDate:e.Int,monthlyPoints:e.Int16,weeklyPoints:e.Int16,weeklyPositionText:e.Text,gameweeks:e.Vec(go),favouriteClubId:e.Opt(c),monthlyPosition:e.Int,seasonPosition:e.Int,monthlyPositionText:e.Text,profilePicture:e.Opt(e.Vec(e.Nat8)),seasonPoints:e.Int16,profilePictureType:e.Text,principalId:e.Text,seasonPositionText:e.Text}),da=e.Variant({ok:wo,err:a}),vo=e.Record({month:q,clubId:c,offset:e.Nat,seasonId:b,limit:e.Nat,searchTerm:e.Text}),Ft=e.Record({username:e.Text,positionText:e.Text,position:e.Nat,principalId:e.Text,points:e.Int16}),So=e.Record({month:e.Nat8,clubId:c,totalEntries:e.Nat,seasonId:b,entries:e.Vec(Ft)}),bo=e.Variant({ok:So,err:a}),Eo=e.Record({playerId:c,seasonId:b}),No=e.Record({description:e.Text,injuryStartDate:e.Int,expectedEndDate:e.Int}),To=e.Record({fixtureId:sa,events:e.Vec(Ot),number:e.Nat8,points:e.Int16}),Ao=e.Record({oldValue:e.Nat16,changedOn:e.Int,newValue:e.Nat16}),ko=e.Record({id:c,status:ua,clubId:c,parentClubId:c,valueQuarterMillions:e.Nat16,dateOfBirth:e.Int,injuryHistory:e.Vec(No),seasonId:b,gameweeks:e.Vec(To),nationality:y,retirementDate:e.Int,valueHistory:e.Vec(Ao),latestInjuryEndDate:e.Int,shirtNumber:e.Nat8,position:Rt,lastName:e.Text,firstName:e.Text}),Po=e.Variant({ok:ko,err:a}),_a=e.Record({seasonId:b,gameweek:n}),Oo=e.Record({id:e.Nat16,clubId:c,events:e.Vec(Ot),position:Rt,gameweek:n,points:e.Int16}),Ro=e.Variant({ok:e.Vec(Oo),err:a}),Co=e.Record({id:e.Nat16,clubId:c,assists:e.Int16,dateOfBirth:e.Int,nationality:y,goalsScored:e.Int16,saves:e.Int16,goalsConceded:e.Int16,events:e.Vec(Ot),position:Rt,points:e.Int16}),Fo=e.Variant({ok:e.Vec(e.Tuple(e.Nat16,Co)),err:a}),xo=e.Record({seasonId:b,gameweek:n,leagueId:ur}),Go=e.Record({username:e.Text,termsAccepted:e.Bool,createDate:e.Int,favouriteClubId:e.Opt(c),profilePicture:e.Opt(e.Vec(e.Nat8)),profilePictureType:e.Text,principalId:e.Text}),qo=e.Variant({ok:Go,err:a}),Io=e.Record({monthlyLeaderboardPool:e.Nat64,allTimeSeasonHighScorePool:e.Nat64,mostValuableTeamPool:e.Nat64,highestScoringMatchPlayerPool:e.Nat64,seasonId:b,seasonLeaderboardPool:e.Nat64,allTimeWeeklyHighScorePool:e.Nat64,allTimeMonthlyHighScorePool:e.Nat64,weeklyLeaderboardPool:e.Nat64}),pa=e.Record({seasonId:b,rewardPool:Io}),Mo=e.Variant({ok:pa,err:a}),Wo=e.Record({offset:e.Nat,seasonId:b,limit:e.Nat,searchTerm:e.Text}),Vo=e.Record({totalEntries:e.Nat,seasonId:b,entries:e.Vec(Ft)}),Bo=e.Variant({ok:Vo,err:a}),Ho=e.Record({id:b,name:e.Text,year:e.Nat16}),$o=e.Variant({ok:e.Vec(Ho),err:a}),jo=e.Record({pickTeamSeasonId:b,calculationGameweek:n,transferWindowActive:e.Bool,pickTeamMonth:q,pickTeamGameweek:n,version:e.Text,calculationMonth:q,calculationSeasonId:b,onHold:e.Bool,seasonActive:e.Bool}),Ko=e.Variant({ok:jo,err:a}),Uo=e.Variant({ok:e.Nat,err:a}),zo=e.Variant({ok:e.Vec(e.Tuple(b,e.Vec(e.Tuple(n,i)))),err:a}),Jo=e.Record({offset:e.Nat,seasonId:b,limit:e.Nat,searchTerm:e.Text,gameweek:n}),Yo=e.Record({totalEntries:e.Nat,seasonId:b,entries:e.Vec(Ft),gameweek:n}),Xo=e.Variant({ok:Yo,err:a});r.fill(e.Opt(e.Tuple(Ft,r)));const Qo=e.Record({totalEntries:e.Nat,seasonId:b,entries:r,gameweek:n}),Zo=e.Variant({MonthlyLeaderboard:e.Null,MostValuableTeam:e.Null,MonthlyATHScore:e.Null,WeeklyATHScore:e.Null,SeasonATHScore:e.Null,SeasonLeaderboard:e.Null,WeeklyLeaderboard:e.Null,HighestScoringPlayer:e.Null}),Do=e.Record({rewardType:Zo,position:e.Nat,amount:e.Nat64,principalId:e.Text});t.fill(e.Opt(e.Tuple(Do,t)));const Lo=e.Record({seasonId:b,rewards:t,gameweek:n}),es=e.Variant({ok:Lo,err:a}),ha=e.Record({username:e.Text}),ts=e.Record({playerIds:e.Vec(c),username:e.Text,goalGetterPlayerId:c,oneNationCountryId:y,hatTrickHeroGameweek:n,oneNationGameweek:n,teamBoostGameweek:n,captainFantasticGameweek:n,noEntryPlayerId:c,safeHandsPlayerId:c,braceBonusGameweek:n,passMasterGameweek:n,teamBoostClubId:c,goalGetterGameweek:n,captainFantasticPlayerId:c,transferWindowGameweek:n,noEntryGameweek:n,prospectsGameweek:n,safeHandsGameweek:n,passMasterPlayerId:c,captainId:c}),ya=e.Nat,fr=e.Nat,rs=e.Nat64,as=e.Variant({GenericError:e.Record({message:e.Text,error_code:e.Nat}),TemporarilyUnavailable:e.Null,BadBurn:e.Record({min_burn_amount:fr}),Duplicate:e.Record({duplicate_of:ya}),BadFee:e.Record({expected_fee:fr}),CreatedInFuture:e.Record({ledger_time:rs}),TooOld:e.Null,InsufficientFunds:e.Record({balance:fr})}),ns=e.Variant({Ok:ya,Err:as}),os=e.Record({favouriteClubId:c}),ss=e.Record({profilePicture:e.Vec(e.Nat8),extension:e.Text}),is=e.Record({pickTeamSeasonId:b,calculationGameweek:n,transferWindowActive:e.Bool,pickTeamMonth:q,pickTeamGameweek:n,version:e.Text,calculationMonth:q,calculationSeasonId:b,onHold:e.Bool,seasonActive:e.Bool}),ls=e.Record({username:e.Text});return e.Service({calculateGameweekScores:e.Func([],[o],[]),calculateLeaderboards:e.Func([],[o],[]),calculateWeeklyRewards:e.Func([n],[o],[]),getActiveLeaderboardCanisterId:e.Func([],[s],[]),getCanisters:e.Func([u],[d],[]),getClubs:e.Func([],[m],["composite_query"]),getCountries:e.Func([],[E],["query"]),getCurrentTeam:e.Func([],[N],[]),getDataHashes:e.Func([],[k],["composite_query"]),getFantasyTeamSnapshot:e.Func([re],[_o],[]),getFixtures:e.Func([ur],[ia],["composite_query"]),getLeaderboardCanisterIds:e.Func([],[la],[]),getLoanedPlayers:e.Func([ca],[Ct],["composite_query"]),getManager:e.Func([mo],[da],[]),getManagerCanisterIds:e.Func([],[la],[]),getMonthlyLeaderboard:e.Func([vo],[bo],[]),getPlayerDetails:e.Func([Eo],[Po],[]),getPlayerDetailsForGameweek:e.Func([_a],[Ro],["composite_query"]),getPlayers:e.Func([],[Ct],["composite_query"]),getPlayersMap:e.Func([_a],[Fo],[]),getPlayersSnapshot:e.Func([xo],[e.Vec(fa)],["query"]),getPostponedFixtures:e.Func([],[ia],["composite_query"]),getProfile:e.Func([],[qo],[]),getRetiredPlayers:e.Func([ca],[Ct],["composite_query"]),getRewardPool:e.Func([pa],[Mo],[]),getSeasonLeaderboard:e.Func([Wo],[Bo],[]),getSeasons:e.Func([],[$o],["composite_query"]),getSystemState:e.Func([],[Ko],["query"]),getTotalManagers:e.Func([],[Uo],["query"]),getVerifiedPlayers:e.Func([],[Ct],[]),getWeeklyCanisters:e.Func([],[zo],["query"]),getWeeklyLeaderboard:e.Func([Jo],[Xo],[]),getWeeklyLeaderboards:e.Func([],[e.Vec(Qo)],[]),getWeeklyRewards:e.Func([b,n],[es],["query"]),isUsernameValid:e.Func([ha],[e.Bool],["query"]),notifyAppsOfFixtureFinalised:e.Func([b,n],[o],[]),notifyAppsOfGameweekStarting:e.Func([b,n],[o],[]),notifyAppsOfLoan:e.Func([Z],[o],[]),notifyAppsOfLoanExpired:e.Func([Z],[o],[]),notifyAppsOfPositionChange:e.Func([Z],[o],[]),notifyAppsOfRetirement:e.Func([Z],[o],[]),notifyAppsOfSeasonComplete:e.Func([b],[o],[]),notifyAppsOfTransfer:e.Func([Z],[o],[]),payWeeklyRewards:e.Func([n],[o],[]),saveFantasyTeam:e.Func([ts],[o],[]),searchUsername:e.Func([ha],[da],[]),snapshotManagers:e.Func([],[o],[]),transferFPLToNewBackendCanister:e.Func([],[ns],[]),updateDataHashes:e.Func([e.Text],[o],[]),updateFavouriteClub:e.Func([os],[o],[]),updateProfilePicture:e.Func([ss],[o],[]),updateSystemState:e.Func([is],[o],[]),updateUsername:e.Func([ls],[o],[])})};var Nl={OPENWSL_BACKEND_CANISTER_ID:"5bafg-ayaaa-aaaal-qmzqq-cai",OPENWSL_FRONTEND_CANISTER_ID:"5ido2-wqaaa-aaaal-qmzra-cai",DFX_NETWORK:"ic",CANISTER_ID_SNS_GOVERNANCE:"detjl-sqaaa-aaaaq-aacqa-cai",CANISTER_ID_SNS_ROOT:"gyito-zyaaa-aaaaq-aacpq-cai",TOTAL_GAMEWEEKS:22};const Ha=Nl.CANISTER_ID_OPENWSL_BACKEND,Tl=(e,t={})=>{const r=t.agent||new It({...t.agentOptions});return t.agent&&t.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),za.createActor(J,{agent:r,canisterId:e,...t.actorOptions})};Ha&&Tl(Ha);var Al={OPENWSL_BACKEND_CANISTER_ID:"5bafg-ayaaa-aaaal-qmzqq-cai",OPENWSL_FRONTEND_CANISTER_ID:"5ido2-wqaaa-aaaal-qmzra-cai",DFX_NETWORK:"ic",CANISTER_ID_SNS_GOVERNANCE:"detjl-sqaaa-aaaaq-aacqa-cai",CANISTER_ID_SNS_ROOT:"gyito-zyaaa-aaaaq-aacpq-cai",TOTAL_GAMEWEEKS:22};class I{static createActor(t,r="",a=null,o=null){const n={host:`https://${r}.icp-api.io`,identity:a};o?o.agentOptions?o.agentOptions.host=n.host:o.agentOptions=n:o={agentOptions:n};const s=new It({...o.agentOptions});return za.createActor(t,{agent:s,canisterId:r,...o?.actorOptions})}static getAgent(t="",r=null,a=null){const o={host:`https://${t}.icp-api.io`,identity:r};return a?a.agentOptions?a.agentOptions.host=o.host:a.agentOptions=o:a={agentOptions:o},new It({...a.agentOptions})}static createIdentityActor(t,r){let a;return new Promise((o,n)=>{a=t.subscribe(s=>{s.identity&&o(s.identity)})}).then(o=>(a(),I.createActor(J,r,o)))}static getGovernanceAgent(t=null,r=null){const o={host:`https://${Al.CANISTER_ID_SNS_GOVERNANCE}.icp-api.io`,identity:t};return r?r.agentOptions?r.agentOptions.host=o.host:r.agentOptions=o:r={agentOptions:o},new It({...r.agentOptions})}}var $e=(e=>(e[e.UNPLAYED=0]="UNPLAYED",e[e.ACTIVE=1]="ACTIVE",e[e.COMPLETED=2]="COMPLETED",e[e.FINALISED=3]="FINALISED",e))($e||{}),z=(e=>(e[e.Appearance=0]="Appearance",e[e.Goal=1]="Goal",e[e.GoalAssisted=2]="GoalAssisted",e[e.GoalConceded=3]="GoalConceded",e[e.KeeperSave=4]="KeeperSave",e[e.CleanSheet=5]="CleanSheet",e[e.PenaltySaved=6]="PenaltySaved",e[e.PenaltyMissed=7]="PenaltyMissed",e[e.YellowCard=8]="YellowCard",e[e.RedCard=9]="RedCard",e[e.OwnGoal=10]="OwnGoal",e[e.HighestScoringPlayer=11]="HighestScoringPlayer",e))(z||{}),je=(e=>(e[e.GOALKEEPER=0]="GOALKEEPER",e[e.DEFENDER=1]="DEFENDER",e[e.MIDFIELDER=2]="MIDFIELDER",e[e.FORWARD=3]="FORWARD",e))(je||{});function $a(e){const t=Array.from(e).map(r=>String.fromCharCode(r)).join("");return btoa(t)}function no(e){const t=new Date(Number(e)/1e6),r={weekday:"long",year:"numeric",month:"long",day:"numeric"};return new Intl.DateTimeFormat("en-UK",r).format(t)}function oo(e){const t=new Date(Number(e)/1e6),r={year:"numeric",month:"short",day:"numeric"};return new Intl.DateTimeFormat("en-UK",r).format(t)}function so(e){const t=new Date(Number(e)/1e6),r=new Date,a=t.getTime()-r.getTime();if(a<=0)return{days:0,hours:0,minutes:0};const o=Math.floor(a/(1e3*60*60*24)),n=Math.floor(a/(1e3*60*60)%24),s=Math.floor(a/(1e3*60)%60);return{days:o,hours:n,minutes:s}}function j(e,t){return typeof t=="bigint"?t.toString():t}function io(e){const t=Number(e)/1e6,r=new Date(t),a={hour:"numeric",minute:"numeric",hour12:!0,timeZone:"Europe/London"};return new Intl.DateTimeFormat("en-GB",a).format(r)}function he(e){return"Goalkeeper"in e?je.GOALKEEPER:"Defender"in e?je.DEFENDER:"Midfielder"in e?je.MIDFIELDER:"Forward"in e?je.FORWARD:je.GOALKEEPER}function kl(e){const t=e/1e6,r=new Date(t),a=new Date;let o=a.getFullYear()-r.getFullYear();const n=a.getMonth()-r.getMonth();return(n<0||n===0&&a.getDate()<r.getDate())&&o--,o}function lo(e,t,r){let a={};return t.forEach(n=>Er(n.id,a,t)),e.filter(n=>Ol(n.fixture.status)===3&&n.fixture.gameweek<=r).forEach(({fixture:n,homeTeam:s,awayTeam:l})=>{if(!s||!l)return;Er(s.id,a,t),Er(l.id,a,t);const u=a[s.id],i=a[l.id];u.played++,i.played++,u.goalsFor+=n.homeGoals,u.goalsAgainst+=n.awayGoals,i.goalsFor+=n.awayGoals,i.goalsAgainst+=n.homeGoals,n.homeGoals>n.awayGoals?(u.wins++,u.points+=3,i.losses++):n.homeGoals===n.awayGoals?(u.draws++,i.draws++,u.points+=1,i.points+=1):(i.wins++,i.points+=3,u.losses++)}),Object.values(a).sort((n,s)=>{const l=n.goalsFor-n.goalsAgainst,u=s.goalsFor-s.goalsAgainst;return s.points!==n.points?s.points-n.points:u!==l?u-l:s.goalsFor!==n.goalsFor?s.goalsFor-n.goalsFor:n.goalsAgainst-s.goalsAgainst})}function Er(e,t,r){if(!t[e]){const a=r.find(o=>o.id===e);a&&(t[e]={...a,played:0,wins:0,draws:0,losses:0,goalsFor:0,goalsAgainst:0,points:0})}}function Pl(e){return"Appearance"in e?z.Appearance:"Goal"in e?z.Goal:"GoalAssisted"in e?z.GoalAssisted:"GoalConceded"in e?z.GoalConceded:"KeeperSave"in e?z.KeeperSave:"CleanSheet"in e?z.CleanSheet:"PenaltySaved"in e?z.PenaltySaved:"PenaltyMissed"in e?z.PenaltyMissed:"YellowCard"in e?z.YellowCard:"RedCard"in e?z.RedCard:"OwnGoal"in e?z.OwnGoal:"HighestScoringPlayer"in e?z.HighestScoringPlayer:z.Appearance}function Ol(e){return"Unplayed"in e?$e.UNPLAYED:"Active"in e?$e.ACTIVE:"Complete"in e?$e.COMPLETED:"Finalised"in e?$e.FINALISED:$e.UNPLAYED}function Rl(e){const t=Number(e/1e6),r=new Date(t);return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r.getUTCMonth()]} ${r.getUTCFullYear()}`}function O(e){return e&&e.err!==void 0}function Cl(e,t){let r=0,a=0,o=0,n=0,s=0,l=0,u=0,i=0,h=0,_=0,d=0,c=0,f=0,p=0,m=0,y=0;return e.events.forEach(E=>{switch(Pl(E.eventType)){case 0:d+=1;break;case 1:switch(r+=1,he(e.position)){case 0:case 1:f+=20;break;case 2:f+=15;break;case 3:f+=10;break}break;case 2:switch(a+=1,he(e.position)){case 0:case 1:p+=15;break;case 2:case 3:p+=10;break}break;case 3:_+=1,he(e.position)<2&&_%2===0&&(m+=-15);break;case 4:u+=1;break;case 5:i+=1,he(e.position)<2&&_===0&&(y+=10);break;case 6:h+=1;break;case 7:s+=1;break;case 8:n+=1;break;case 9:o+=1;break;case 10:l+=1;break;case 11:c+=1;break}}),{player:t,points:e.points,appearance:d,goals:r,assists:a,goalsConceded:_,saves:u,cleanSheets:i,penaltySaves:h,missedPenalties:s,yellowCards:n,redCards:o,ownGoals:l,highestScoringPlayerId:c,goalPoints:f,assistPoints:p,goalsConcededPoints:m,cleanSheetPoints:y,gameweek:e.gameweek,bonusPoints:0,totalPoints:0,isCaptain:!1,nationalityId:t.nationality}}function Fl(e,t){if(!e)return console.error("No gameweek data found:",e),0;let r=0,a=5,o=5,n=20,s=25,l=-20,u=-10,i=-15,h=-10,_=-5,d=10;var c=0,f=0;switch(e.appearance>0&&(r+=a*e.appearance),e.redCards>0&&(r+=l),e.missedPenalties>0&&(r+=u*e.missedPenalties),e.ownGoals>0&&(r+=h*e.ownGoals),e.yellowCards>0&&(r+=_*e.yellowCards),he(e.player.position)){case 0:c=20,f=15,e.saves>=3&&(r+=Math.floor(e.saves/3)*o),e.penaltySaves&&(r+=n*e.penaltySaves),e.cleanSheets>0&&(r+=d),e.goalsConceded>=2&&(r+=Math.floor(e.goalsConceded/2)*i);break;case 1:c=20,f=15,e.cleanSheets>0&&(r+=d),e.goalsConceded>=2&&(r+=Math.floor(e.goalsConceded/2)*i);break;case 2:c=15,f=10;break;case 3:c=10,f=10;break}const m=(t?t.filter(y=>y.gameweek===e.gameweek):[]).filter(y=>(y.homeClubId===e.player.clubId||y.awayClubId===e.player.clubId)&&y.highestScoringPlayerId===e.player.id);return m&&m.length>0&&(r+=s*m.length),r+=e.goals*c,r+=e.assists*f,r}function xl(e,t,r){if(!e)return console.error("No gameweek data found:",e),0;let a=0;var o=0,n=0;switch(he(e.player.position)){case 0:o=20,n=15;break;case 1:o=20,n=15;break;case 2:o=15,n=10;break;case 3:o=10,n=10;break}return t.goalGetterGameweek===e.gameweek&&t.goalGetterPlayerId===e.player.id&&(a=e.goals*o*2),t.passMasterGameweek===e.gameweek&&t.passMasterPlayerId===e.player.id&&(a=e.assists*n*2),t.noEntryGameweek===e.gameweek&&t.noEntryPlayerId===e.player.id&&(he(e.player.position)===0||he(e.player.position)===1)&&e.cleanSheets&&(a=r*2),t.safeHandsGameweek===e.gameweek&&he(e.player.position)===0&&e.saves>=5&&(a=r*2),t.captainFantasticGameweek===e.gameweek&&t.captainId===e.player.id&&e.goals>0&&(a=r),t.oneNationGameweek===e.gameweek&&t.oneNationCountryId===e.player.nationality&&(a=r*2),t.prospectsGameweek===e.gameweek&&kl(Number(e.player.dateOfBirth))<21&&(a=r*2),t.braceBonusGameweek===e.gameweek&&e.goals>=2&&(a=r),t.hatTrickHeroGameweek===e.gameweek&&e.goals>=3&&(a=r*2),t.teamBoostGameweek===e.gameweek&&e.player.clubId===t.teamBoostClubId&&(a=r),a}var Gl={OPENWSL_BACKEND_CANISTER_ID:"5bafg-ayaaa-aaaal-qmzqq-cai",OPENWSL_FRONTEND_CANISTER_ID:"5ido2-wqaaa-aaaal-qmzra-cai",DFX_NETWORK:"ic",CANISTER_ID_SNS_GOVERNANCE:"detjl-sqaaa-aaaaq-aacqa-cai",CANISTER_ID_SNS_ROOT:"gyito-zyaaa-aaaaq-aacpq-cai",TOTAL_GAMEWEEKS:22};class co{constructor(){M(this,"actor");this.actor=I.createActor(J,Gl.OPENWSL_BACKEND_CANISTER_ID)}async getPostponedFixtures(){const t=await this.actor.getPostponedFixtures();if(O(t))throw new Error("Failed to fetch postponed fixtures");return t.ok}async getFixtures(t){let r={leagueId:2,seasonId:t};const a=await this.actor.getFixtures(r);if(O(a))throw new Error("Failed to fetch fixtures");return a.ok}}function ql(){const{subscribe:e,set:t}=F([]);async function r(){return new co().getPostponedFixtures()}async function a(){let o=[];if(await e(s=>{o=s})(),o.length==0)return;const n=new Date;return o.find(s=>new Date(Number(s.kickOff)/1e6)>n)}return{subscribe:e,setFixtures:o=>t(o),getNextFixture:a,getPostponedFixtures:r}}const nt=ql();function Il(){const{subscribe:e,set:t}=F([]);return{subscribe:e,setClubs:r=>t(r)}}const bt=Il();var Nr={OPENWSL_BACKEND_CANISTER_ID:"5bafg-ayaaa-aaaal-qmzqq-cai",OPENWSL_FRONTEND_CANISTER_ID:"5ido2-wqaaa-aaaal-qmzra-cai",DFX_NETWORK:"ic",CANISTER_ID_SNS_GOVERNANCE:"detjl-sqaaa-aaaaq-aacqa-cai",CANISTER_ID_SNS_ROOT:"gyito-zyaaa-aaaaq-aacpq-cai",TOTAL_GAMEWEEKS:22};function Ml(){const{subscribe:e,set:t}=F(null);let r;Q.subscribe(f=>{r=f});let a=I.createActor(J,Nr.OPENWSL_BACKEND_CANISTER_ID),o={playerIds:[],oneNationCountryId:0,username:"",goalGetterPlayerId:0,hatTrickHeroGameweek:0,transfersAvailable:0,termsAccepted:!1,teamBoostGameweek:0,captainFantasticGameweek:0,createDate:0n,oneNationGameweek:0,bankQuarterMillions:0,noEntryPlayerId:0,safeHandsPlayerId:0,history:[],braceBonusGameweek:0,favouriteClubId:0,passMasterGameweek:0,teamBoostClubId:0,goalGetterGameweek:0,captainFantasticPlayerId:0,profilePicture:[],transferWindowGameweek:0,noEntryGameweek:0,prospectsGameweek:0,safeHandsGameweek:0,principalId:"",passMasterPlayerId:0,captainId:0,monthlyBonusesAvailable:0,canisterId:"",firstGameweek:!1};async function n(f){try{let p={managerId:f,month:0,seasonId:r.calculationSeasonId,gameweek:0,clubId:0},m=await a.getManager(p);return O(m)&&console.error("Error getting public profile"),m.ok}catch(p){throw console.error("Error fetching manager profile for gameweek:",p),p}}async function s(){try{let f=await a.getTotalManagers();O(f)&&console.error("Error getting total managers");const p=f.ok;return Number(p)}catch(f){throw console.error("Error fetching total managers:",f),f}}async function l(f,p,m){try{let y={managerPrincipalId:f,gameweek:m,seasonId:p},w=await a.getFantasyTeamSnapshot(y);return O(w)&&console.error("Error fetching fantasy team for gameweek:"),w.ok}catch(y){throw console.error("Error fetching fantasy team for gameweek:",y),y}}async function u(){try{const p=await(await I.createIdentityActor(oe,Nr.OPENWSL_BACKEND_CANISTER_ID??"")).getCurrentTeam();return O(p)?o:p.ok}catch(f){throw console.error("Error fetching fantasy team:",f),f}}async function i(f,p,m,y){try{let w=0,E=0,S=0,N=0;m&&(E=_(f,p),S=d(f,p),w=h(f,p),N=c(f,p));const g=await I.createIdentityActor(oe,Nr.OPENWSL_BACKEND_CANISTER_ID??"");let k={playerIds:f.playerIds,captainId:f.captainId,goalGetterGameweek:w==1?p:f.goalGetterGameweek,goalGetterPlayerId:E,passMasterGameweek:w==2?p:f.passMasterGameweek,passMasterPlayerId:E,noEntryGameweek:w==3?p:f.noEntryGameweek,noEntryPlayerId:E,teamBoostGameweek:w==4?p:f.teamBoostGameweek,teamBoostClubId:S,safeHandsGameweek:w==5?p:f.safeHandsGameweek,safeHandsPlayerId:E,captainFantasticGameweek:w==6?p:f.captainFantasticGameweek,captainFantasticPlayerId:E,oneNationGameweek:w==7?p:f.oneNationGameweek,oneNationCountryId:N,prospectsGameweek:w==8?p:f.prospectsGameweek,braceBonusGameweek:w==9?p:f.braceBonusGameweek,hatTrickHeroGameweek:w==10?p:f.hatTrickHeroGameweek,transferWindowGameweek:y?p:f.transferWindowGameweek,username:f.username},b=await g.saveFantasyTeam(k);if(O(b)){console.error("Error saving fantasy team",b);return}return b.ok}catch(w){throw console.error("Error saving fantasy team:",w),w}}function h(f,p){let m=0;return f.goalGetterGameweek===p&&(m=1),f.passMasterGameweek===p&&(m=2),f.noEntryGameweek===p&&(m=3),f.teamBoostGameweek===p&&(m=4),f.safeHandsGameweek===p&&(m=5),f.captainFantasticGameweek===p&&(m=6),f.prospectsGameweek===p&&(m=7),f.oneNationGameweek===p&&(m=8),f.hatTrickHeroGameweek===p&&(m=9),f.hatTrickHeroGameweek===p&&(m=10),m}function _(f,p){let m=0;return f.goalGetterGameweek===p&&(m=f.goalGetterPlayerId),f.passMasterGameweek===p&&(m=f.passMasterPlayerId),f.noEntryGameweek===p&&(m=f.noEntryPlayerId),f.safeHandsGameweek===p&&(m=f.safeHandsPlayerId),f.captainFantasticGameweek===p&&(m=f.captainId),m}function d(f,p){let m=0;return f.teamBoostGameweek===p&&(m=f.teamBoostClubId),m}function c(f,p){let m=0;return f.oneNationGameweek===p&&(m=f.oneNationCountryId),m}return{subscribe:e,getTotalManagers:s,getFantasyTeamForGameweek:l,getCurrentTeam:u,saveFantasyTeam:i,getPublicProfile:n}}const na=Ml();var Wl=nr('<div class="flex flex-col h-screen justify-between default-text"><main class="page-wrapper"><h1>OpenWSL</h1> <p class="mt-4">OpenWSL is coming soon.</p></main></div>');function ve(e){var t=Wl();de(e,t)}function Vl(){const{subscribe:e,set:t}=F([]);return{subscribe:e,setCountries:r=>t(r)}}const ja=Vl();function Bl(){const{subscribe:e,set:t}=F([]);async function r(a){let o=[];if(await e(s=>{o=s})(),o.length==0)return;let n=o.find(s=>s.id==a);if(n!=null)return n.name}return{subscribe:e,setSeasons:a=>t(a),getSeasonName:r}}const Dt=Bl();var Hl={OPENWSL_BACKEND_CANISTER_ID:"5bafg-ayaaa-aaaal-qmzqq-cai",OPENWSL_FRONTEND_CANISTER_ID:"5ido2-wqaaa-aaaal-qmzra-cai",DFX_NETWORK:"ic",CANISTER_ID_SNS_GOVERNANCE:"detjl-sqaaa-aaaaq-aacqa-cai",CANISTER_ID_SNS_ROOT:"gyito-zyaaa-aaaaq-aacpq-cai",TOTAL_GAMEWEEKS:22};class Ir{constructor(){M(this,"actor");this.actor=I.createActor(J,Hl.OPENWSL_BACKEND_CANISTER_ID)}async getPlayers(){const t=await this.actor.getPlayers();if(O(t))throw new Error("Failed to fetch players");return t.ok}async getLoanedPlayers(t){const r={leagueId:2,clubId:t},a=await this.actor.getLoanedPlayers(r);if(O(a))throw new Error("Failed to fetch loaned players");return a.ok}async getRetiredPlayers(t){const r={leagueId:2,clubId:t},a=await this.actor.getRetiredPlayers(r);if(O(a))throw new Error("Failed to fetch retired players");return a.ok}}function $l(){const{subscribe:e,set:t}=F([]);async function r(o){return new Ir().getLoanedPlayers(o)}async function a(o){return new Ir().getRetiredPlayers(o)}return{subscribe:e,setPlayers:o=>t(o),getLoanedPlayers:r,getRetiredPlayers:a}}const Et=$l();var jl={OPENWSL_BACKEND_CANISTER_ID:"5bafg-ayaaa-aaaal-qmzqq-cai",OPENWSL_FRONTEND_CANISTER_ID:"5ido2-wqaaa-aaaal-qmzra-cai",DFX_NETWORK:"ic",CANISTER_ID_SNS_GOVERNANCE:"detjl-sqaaa-aaaaq-aacqa-cai",CANISTER_ID_SNS_ROOT:"gyito-zyaaa-aaaaq-aacpq-cai",TOTAL_GAMEWEEKS:22};class Mr{constructor(){M(this,"actor");this.actor=I.createActor(J,jl.OPENWSL_BACKEND_CANISTER_ID)}async getPlayerDetailsForGameweek(){let t=null;if(Q.subscribe(o=>{t=o}),t==null)throw new Error("Failed to fetch system state in player events service");let r={seasonId:t.calculationSeasonId,gameweek:t.calculationGameweek};const a=await this.actor.getPlayerDetailsForGameweek(r);if(O(a))throw new Error("Failed to fetch player details for gameweek in player events service");return a.ok}async getPlayerDetails(t,r){try{let a={playerId:t,seasonId:r},o=await this.actor.getPlayerDetails(a);return O(o)&&console.error("Error fetching player details"),o.ok}catch(a){throw console.error("Error fetching player data:",a),a}}async getPlayerEvents(t,r){try{let a={seasonId:t,gameweek:r},o=await this.actor.getPlayerDetailsForGameweek(a);return O(o)&&console.error("Error fetching player details for gameweek"),o.ok}catch(a){throw console.error("Error fetching player details for gameweek:",a),a}}}function Kl(){const{subscribe:e,set:t}=F([]);async function r(s,l){return new Mr().getPlayerDetails(s,l)}async function a(s,l,u){let i=[],h=null;if(Q.subscribe(y=>{if(y==null)throw new Error("Failed to subscribe to system store");h={pickTeamSeasonId:y.pickTeamSeasonId,calculationGameweek:y.calculationGameweek,transferWindowActive:y.transferWindowActive,pickTeamGameweek:y.pickTeamGameweek,version:y.version,calculationMonth:y.calculationMonth,pickTeamMonth:y.pickTeamMonth,calculationSeasonId:y.calculationSeasonId,onHold:y.onHold,seasonActive:y.seasonActive}}),h==null)throw new Error("Failed to subscribe to system store");h.calculationSeasonId===l&&h.calculationGameweek===u?i=await o():i=await n(l,u);let _=[];Et.subscribe(y=>{_=y.filter(w=>s.playerIds.includes(w.id))})();let c=await Promise.all(_.map(async y=>await Cl(i.find(w=>w.id==y.id),y))),f=[];nt.subscribe(y=>{f=y})();const m=c.map(y=>{const w=Fl(y,f),E=xl(y,s,w),S=y.player.id===s.captainId?w+E:0;return{...y,points:w,bonusPoints:E,totalPoints:w+E+S}});return await Promise.all(m)}async function o(){const s=localStorage.getItem("player_events");let l=[];try{l=JSON.parse(s||"[]")}catch{l=[]}return l}async function n(s,l){return new Mr().getPlayerEvents(s,l)}return{subscribe:e,setPlayerEvents:s=>t(s),getPlayerDetails:r,getGameweekPlayers:a,getPlayerEventsFromBackend:n}}const Ul=Kl();var zl={OPENWSL_BACKEND_CANISTER_ID:"5bafg-ayaaa-aaaal-qmzqq-cai",OPENWSL_FRONTEND_CANISTER_ID:"5ido2-wqaaa-aaaal-qmzra-cai",DFX_NETWORK:"ic",CANISTER_ID_SNS_GOVERNANCE:"detjl-sqaaa-aaaaq-aacqa-cai",CANISTER_ID_SNS_ROOT:"gyito-zyaaa-aaaaq-aacpq-cai",TOTAL_GAMEWEEKS:22};class uo{constructor(){M(this,"actor");this.actor=I.createActor(J,zl.OPENWSL_BACKEND_CANISTER_ID)}async getWeeklyLeaderboard(t,r,a,o){let n={offset:BigInt(t),seasonId:r,limit:BigInt(a),searchTerm:"",gameweek:o};const s=await this.actor.getWeeklyLeaderboard(n);if(O(s))throw new Error("Failed to fetch countries");return s.ok}}function Jl(){const{subscribe:e,set:t}=F(null);async function r(a,o,n,s){return new uo().getWeeklyLeaderboard(s,a,n,o)}return{subscribe:e,setWeeklyLeaderboard:a=>t(a),getWeeklyLeaderboard:r}}const Ka=Jl();var Yl={OPENWSL_BACKEND_CANISTER_ID:"5bafg-ayaaa-aaaal-qmzqq-cai",OPENWSL_FRONTEND_CANISTER_ID:"5ido2-wqaaa-aaaal-qmzra-cai",DFX_NETWORK:"ic",CANISTER_ID_SNS_GOVERNANCE:"detjl-sqaaa-aaaaq-aacqa-cai",CANISTER_ID_SNS_ROOT:"gyito-zyaaa-aaaaq-aacpq-cai",TOTAL_GAMEWEEKS:22};class Xl{constructor(){M(this,"actor");this.actor=I.createActor(J,Yl.OPENWSL_BACKEND_CANISTER_ID)}async getDataHashes(){const t=await this.actor.getDataHashes();if(O(t))throw new Error("Failed to fetch data hashes");return t.ok}}var Ql={OPENWSL_BACKEND_CANISTER_ID:"5bafg-ayaaa-aaaal-qmzqq-cai",OPENWSL_FRONTEND_CANISTER_ID:"5ido2-wqaaa-aaaal-qmzra-cai",DFX_NETWORK:"ic",CANISTER_ID_SNS_GOVERNANCE:"detjl-sqaaa-aaaaq-aacqa-cai",CANISTER_ID_SNS_ROOT:"gyito-zyaaa-aaaaq-aacpq-cai",TOTAL_GAMEWEEKS:22};class Zl{constructor(){M(this,"actor");this.actor=I.createActor(J,Ql.OPENWSL_BACKEND_CANISTER_ID)}async getCountries(){const t=await this.actor.getCountries();if(O(t))throw new Error("Failed to fetch countries");return t.ok}}var Dl={OPENWSL_BACKEND_CANISTER_ID:"5bafg-ayaaa-aaaal-qmzqq-cai",OPENWSL_FRONTEND_CANISTER_ID:"5ido2-wqaaa-aaaal-qmzra-cai",DFX_NETWORK:"ic",CANISTER_ID_SNS_GOVERNANCE:"detjl-sqaaa-aaaaq-aacqa-cai",CANISTER_ID_SNS_ROOT:"gyito-zyaaa-aaaaq-aacpq-cai",TOTAL_GAMEWEEKS:22};class Ll{constructor(){M(this,"actor");this.actor=I.createActor(J,Dl.OPENWSL_BACKEND_CANISTER_ID)}async getSystemState(){const t=await this.actor.getSystemState();if(O(t))throw new Error("Failed to fetch system state");return t.ok}}var ec={OPENWSL_BACKEND_CANISTER_ID:"5bafg-ayaaa-aaaal-qmzqq-cai",OPENWSL_FRONTEND_CANISTER_ID:"5ido2-wqaaa-aaaal-qmzra-cai",DFX_NETWORK:"ic",CANISTER_ID_SNS_GOVERNANCE:"detjl-sqaaa-aaaaq-aacqa-cai",CANISTER_ID_SNS_ROOT:"gyito-zyaaa-aaaaq-aacpq-cai",TOTAL_GAMEWEEKS:22};class tc{constructor(){M(this,"actor");this.actor=I.createActor(J,ec.OPENWSL_BACKEND_CANISTER_ID)}async getSeasons(){const t=await this.actor.getSeasons();if(O(t))throw new Error("Failed to fetch seasons");return t.ok}}var rc={OPENWSL_BACKEND_CANISTER_ID:"5bafg-ayaaa-aaaal-qmzqq-cai",OPENWSL_FRONTEND_CANISTER_ID:"5ido2-wqaaa-aaaal-qmzra-cai",DFX_NETWORK:"ic",CANISTER_ID_SNS_GOVERNANCE:"detjl-sqaaa-aaaaq-aacqa-cai",CANISTER_ID_SNS_ROOT:"gyito-zyaaa-aaaaq-aacpq-cai",TOTAL_GAMEWEEKS:22};class ac{constructor(){M(this,"actor");this.actor=I.createActor(J,rc.OPENWSL_BACKEND_CANISTER_ID)}async getClubs(){const t=await this.actor.getClubs();if(O(t))throw new Error("Failed to fetch clubs");return t.ok}}class nc{constructor(){M(this,"dataHashService");M(this,"countryService");M(this,"systemService");M(this,"seasonService");M(this,"clubService");M(this,"playerService");M(this,"playerEventsService");M(this,"fixtureService");M(this,"weeklyLeaderboardService");M(this,"categories",["countries","system_state","seasons","clubs","players","player_events","fixtures"]);this.dataHashService=new Xl,this.countryService=new Zl,this.systemService=new Ll,this.seasonService=new tc,this.clubService=new ac,this.playerService=new Ir,this.playerEventsService=new Mr,this.fixtureService=new co,this.weeklyLeaderboardService=new uo}async syncStores(){const t=await this.dataHashService.getDataHashes();if(O(t)){console.error("Error fetching data hashes.");return}for(const a of this.categories){const o=t.find(n=>n.category===a);o?.hash!==localStorage.getItem(`${a}_hash`)?(await this.syncCategory(a),localStorage.setItem(`${a}_hash`,o?.hash||"")):this.loadFromCache(a)}}async syncCategory(t){switch(t){case"countries":const r=await this.countryService.getCountries();ja.setCountries(r),localStorage.setItem("countries",JSON.stringify(r,j));break;case"system_state":const a=await this.systemService.getSystemState();Q.setSystemState(a),localStorage.setItem("system_state",JSON.stringify(a,j));break;case"seasons":const o=await this.seasonService.getSeasons();Dt.setSeasons(o),localStorage.setItem("seasons",JSON.stringify(o,j));break;case"clubs":const n=await this.clubService.getClubs();bt.setClubs(n),localStorage.setItem("clubs",JSON.stringify(n,j));break;case"players":const s=await this.playerService.getPlayers();Et.setPlayers(s),localStorage.setItem("players",JSON.stringify(s,j));break;case"player_events":const l=await this.playerEventsService.getPlayerDetailsForGameweek();Ul.setPlayerEvents(l),localStorage.setItem("player_events",JSON.stringify(l,j));break;case"fixtures":Q.subscribe(async u=>{const i=await this.fixtureService.getFixtures(u?.calculationSeasonId??0);nt.setFixtures(i),localStorage.setItem("fixtures",JSON.stringify(i,j))});break;case"weekly_leaderboard":Q.subscribe(async u=>{const i=await this.weeklyLeaderboardService.getWeeklyLeaderboard(0,u?.calculationSeasonId??0,0,u?.calculationGameweek??0);Ka.setWeeklyLeaderboard(i),localStorage.setItem("weekly_leaderboard",JSON.stringify(i,j))});break}}loadFromCache(t){const r=localStorage.getItem(t);switch(t){case"countries":const a=JSON.parse(r||"[]");ja.setCountries(a);break;case"system_state":const o=JSON.parse(r||"null");Q.setSystemState(o);break;case"seasons":const n=JSON.parse(r||"");Dt.setSeasons(n);break;case"clubs":const s=JSON.parse(r||"[]");bt.setClubs(s);break;case"players":const l=JSON.parse(r||"[]");Et.setPlayers(l);break;case"fixtures":const u=JSON.parse(r||"[]");nt.setFixtures(u);break;case"weekly_leaderboard":const i=JSON.parse(r||"null");Ka.setWeeklyLeaderboard(i);break}}}const ut=new nc;Yr(oe,({identity:e})=>e!=null);var Se={OPENWSL_BACKEND_CANISTER_ID:"5bafg-ayaaa-aaaal-qmzqq-cai",OPENWSL_FRONTEND_CANISTER_ID:"5ido2-wqaaa-aaaal-qmzra-cai",DFX_NETWORK:"ic",CANISTER_ID_SNS_GOVERNANCE:"detjl-sqaaa-aaaaq-aacqa-cai",CANISTER_ID_SNS_ROOT:"gyito-zyaaa-aaaaq-aacpq-cai",TOTAL_GAMEWEEKS:22};function oc(){const{subscribe:e,set:t}=F(null);async function r(){let _=localStorage.getItem("user_profile_data");if(_){const d=JSON.parse(_);t(d);return}try{await u()}catch(d){throw console.error("Error fetching user profile:",d),d}}async function a(_){try{const d=await I.createIdentityActor(oe,Se.OPENWSL_BACKEND_CANISTER_ID??"");let c={username:_};const f=await d.updateUsername(c);if(O(f)){console.error("Error updating username");return}return await u(),f}catch(d){throw console.error("Error updating username:",d),d}}async function o(_){try{const d=await I.createIdentityActor(oe,Se.OPENWSL_BACKEND_CANISTER_ID??"");let c={favouriteClubId:_};const f=await d.updateFavouriteClub(c);if(O(f)){console.error("Error updating favourite team");return}return await u(),f}catch(d){throw console.error("Error updating favourite team:",d),d}}async function n(_){try{const c=s(_);if(_.size>1e3*1024)return null;const f=new FileReader;f.readAsArrayBuffer(_),f.onloadend=async()=>{const p=f.result,m=new Uint8Array(p);try{const y=await I.createIdentityActor(oe,Se.OPENWSL_BACKEND_CANISTER_ID??"");let w={profilePicture:m,extension:c};const E=await y.updateProfilePicture(w);if(O(E)){console.error("Error updating profile picture");return}return await u(),E}catch(y){console.error(y)}}}catch(d){throw console.error("Error updating username:",d),d}}function s(_){const d=_.name,c=d.lastIndexOf(".");return c!==-1?d.substring(c+1):""}async function l(_){const d=await I.createIdentityActor(oe,Se.OPENWSL_BACKEND_CANISTER_ID);let c={username:_};return await d.isUsernameValid(c)}async function u(){let d=await(await I.createIdentityActor(oe,Se.OPENWSL_BACKEND_CANISTER_ID)).getProfile();if(O(d)){console.error("Error fetching user profile");return}let f=d.ok;t(f)}async function i(_,d){try{let c;if(oe.subscribe(async y=>{c=y.identity}),!c)return;let f=c.getPrincipal();const p=await va({identity:c,host:void 0,fetchRootKey:Se.DFX_NETWORK==="local"}),{transfer:m}=Sa.create({agent:p,canisterId:Se.DFX_NETWORK==="ic"?xt.fromText("ddsp7-7iaaa-aaaaq-aacqq-cai"):xt.fromText("avqkn-guaaa-aaaaa-qaaea-cai")});if(f)try{let y=await m({to:{owner:xt.fromText(_),subaccount:[]},fee:100000n,memo:new Uint8Array(_s.Text.encodeValue("0")),from_subaccount:void 0,created_at_time:BigInt(Date.now())*BigInt(1e6),amount:d-100000n})}catch(y){console.error(y.errorType)}}catch(c){throw console.error("Error withdrawing FPL.",c),c}}async function h(){let _;if(oe.subscribe(async p=>{_=p.identity}),!_)return 0n;let d=_.getPrincipal();const c=await va({identity:_,host:void 0,fetchRootKey:Se.DFX_NETWORK==="local"}),{balance:f}=Sa.create({agent:c,canisterId:xt.fromText("ddsp7-7iaaa-aaaaq-aacqq-cai")});if(d)try{return await f({owner:d,certified:!1})}catch(p){console.error(p)}return 0n}return{subscribe:e,sync:r,updateUsername:a,updateFavouriteTeam:o,updateProfilePicture:n,isUsernameAvailable:l,cacheProfile:u,withdrawFPL:i,getFPLBalance:h}}const oa=oc();Yr(oa,e=>{try{let t;if(e&&e.profilePicture){if(Array.isArray(e.profilePicture)&&e.profilePicture[0]instanceof Uint8Array)return t=e.profilePicture[0],`data:image/${e.profilePictureType};base64,${$a(t)}`;if(e.profilePicture instanceof Uint8Array)return`data:${e.profilePictureType};base64,${$a(e.profilePicture)}`;if(typeof e.profilePicture=="string")return e.profilePicture.startsWith("data:image")?e.profilePicture:`data:${e.profilePictureType};base64,${e.profilePicture}`}return"/profile_placeholder.png"}catch(t){return console.error(t),"/profile_placeholder.png"}});Yr(oa,e=>e!=null?e.favouriteTeamId:0);var sc={OPENWSL_BACKEND_CANISTER_ID:"5bafg-ayaaa-aaaal-qmzqq-cai",OPENWSL_FRONTEND_CANISTER_ID:"5ido2-wqaaa-aaaal-qmzra-cai",DFX_NETWORK:"ic",CANISTER_ID_SNS_GOVERNANCE:"detjl-sqaaa-aaaaq-aacqa-cai",CANISTER_ID_SNS_ROOT:"gyito-zyaaa-aaaaq-aacpq-cai",TOTAL_GAMEWEEKS:22};function ic(){const{subscribe:e,set:t}=F(null),r=25,a="monthly_leaderboard_data";let o;Q.subscribe(u=>{o=u});let n=I.createActor(J,sc.OPENWSL_BACKEND_CANISTER_ID);async function s(u,i,h){let _="monthly_leaderboards";const d=await n.getDataHashes();if(O(d)){console.error("Error syncing monthly leaderboard store");return}let p=d.ok.find(y=>y.category===_)??null;const m=localStorage.getItem(`${_}_hash`);if(p?.hash!=m){const y=r;let E={seasonId:u,month:i,searchTerm:"",clubId:h,offset:BigInt(0),limit:BigInt(y)},S=await n.getMonthlyLeaderboard(E);if(O(S)){let g={entries:[],month:0,seasonId:0,totalEntries:0n};localStorage.setItem(_,JSON.stringify(g,j)),localStorage.setItem(`${_}_hash`,p?.hash??""),console.error("error fetching leaderboard store");return}let N=S.ok;localStorage.setItem(_,JSON.stringify(N.ok,j)),localStorage.setItem(`${_}_hash`,p?.hash??""),t(N.ok)}}async function l(u,i,h,_,d){const c=r,f=(_-1)*c;if(_<=4&&h==o?.calculationMonth){const y=localStorage.getItem(a);if(y&&y!="undefined"){let w;if(w=JSON.parse(y,j),w)return{...w,entries:w.entries.slice(f,f+c)}}}let p={offset:BigInt(f),seasonId:u,limit:BigInt(c),searchTerm:d,month:h,clubId:i},m=await n.getMonthlyLeaderboards(p);if(O(m)){let y={month:0,clubId:0,totalEntries:0n,seasonId:0,entries:[]};return localStorage.setItem(a,JSON.stringify(y,j)),{entries:[],clubId:0,month:0,seasonId:0,totalEntries:0n}}return localStorage.setItem(a,JSON.stringify(m.ok,j)),m}return{subscribe:e,sync:s,getMonthlyLeaderboard:l}}ic();var lc={OPENWSL_BACKEND_CANISTER_ID:"5bafg-ayaaa-aaaal-qmzqq-cai",OPENWSL_FRONTEND_CANISTER_ID:"5ido2-wqaaa-aaaal-qmzra-cai",DFX_NETWORK:"ic",CANISTER_ID_SNS_GOVERNANCE:"detjl-sqaaa-aaaaq-aacqa-cai",CANISTER_ID_SNS_ROOT:"gyito-zyaaa-aaaaq-aacpq-cai",TOTAL_GAMEWEEKS:22};function cc(){const{subscribe:e,set:t}=F(null),r=25,a="season_leaderboard";let o;Q.subscribe(u=>{o=u});let n=I.createActor(J,lc.OPENWSL_BACKEND_CANISTER_ID);async function s(u){let i="season_leaderboard";const h=await n.getDataHashes();if(O(h)){console.error("Error fetching leaderboard store.");return}let c=h.ok.find(p=>p.category===i)??null;const f=localStorage.getItem(`${i}_hash`);if(c?.hash!=f){const p=r;let y={offset:BigInt(0),seasonId:u,limit:BigInt(p),searchTerm:""},w=await n.getSeasonLeaderboard(y);if(O(w))return;let E=w.ok;localStorage.setItem(i,JSON.stringify(E,j)),localStorage.setItem(`${i}_hash`,c?.hash??""),t(E)}else{const p=localStorage.getItem(i);let m={entries:[],seasonId:0,totalEntries:0n};try{m=JSON.parse(p||"{entries: [], gameweek: 0, seasonId: 0, totalEntries: 0n }")}catch{m={entries:[],seasonId:0,totalEntries:0n}}t(m)}}async function l(u,i,h){const _=r,d=(i-1)*_;if(i<=4&&u==o?.calculationSeasonId){const m=localStorage.getItem(a);if(m&&m!="undefined"){let y;if(y=JSON.parse(m||"{entries: [], seasonId: 0, totalEntries: 0n }"),y)return{...y,entries:y.entries.slice(d,d+_)}}}let c={offset:BigInt(d),seasonId:u,limit:BigInt(_),searchTerm:""},f=await n.getSeasonLeaderboard(c);if(O(f))return{totalEntries:0n,seasonId:1,entries:[]};let p=f.ok;return localStorage.setItem(a,JSON.stringify(p.ok,j)),p}return{subscribe:e,sync:s,getSeasonLeaderboard:l}}cc();function uc(e,t){le(t,!1);const r=Pe(),a=()=>V(Q,"$systemStore",r),o=()=>V(bt,"$clubStore",r);let n=A(0),s=A("00"),l=A("00"),u=A("00"),i=A("-"),h=A("-"),_="-",d=A(void 0),c=A(void 0),f=A(!1),p=A(!0),m=A(!0),y=A(!0),w=A("");Oe(async()=>{try{await ut.syncStores(),oe.subscribe(g=>{v(f,g.identity!==null&&g.identity!==void 0)}),v(w,await Dt.getSeasonName(a()?.pickTeamSeasonId??0)??""),E(),S(),N()}catch(g){console.error("Error fetching homepage data:",g)}finally{}});async function E(){try{v(n,await na.getTotalManagers())}catch(g){console.error("Error loading section 1:",g)}finally{v(p,!1)}}async function S(){try{let g=await nt.getNextFixture();if((g?g.awayClubId:0)>0){v(d,o().find($=>$.id==g?.homeClubId)),v(c,o().find($=>$.id==g?.awayClubId)),v(i,no(g?g.kickOff:0n)),v(h,oo(g?g.kickOff:0n)),_=io(g?g.kickOff:0n);let b=so(g?g.kickOff:0n);v(s,b.days.toString()),v(l,b.hours.toString()),v(u,b.minutes.toString())}}catch(g){console.error("Error loading section 2:",g)}finally{v(m,!1)}}async function N(){v(y,!1)}ke(),ve(e),ce()}const fc=Object.freeze(Object.defineProperty({__proto__:null,component:uc},Symbol.toStringTag,{value:"Module"}));function dc(e,t){le(t,!1);const r=Pe(),a=()=>V(cr,"$page",r),o=()=>V(Dt,"$seasonStore",r),n=()=>V(Q,"$systemStore",r),s=()=>V(nt,"$fixtureStore",r),l=()=>V(bt,"$clubStore",r),u=()=>V(Et,"$playerStore",r),i=A();let h=A(!0),_=A([]),d=A(),c=A(null),f=null,p=A(null),m=A(null),y=null,w=A("");Oe(async()=>{try{await ut.syncStores(),v(w,o().find(g=>g.id==n()?.pickTeamSeasonId)?.name??""),v(d,n()?.pickTeamGameweek??1);let N=s().filter(g=>g.homeClubId===T(i)||g.awayClubId===T(i));v(_,N.sort((g,k)=>Number(g.kickOff)-Number(k.kickOff)).map(g=>({fixture:g,homeTeam:S(g.homeClubId),awayTeam:S(g.awayClubId)}))),v(c,l().find(g=>g.id==T(i))??null),y=u().sort((g,k)=>g.totalPoints-k.totalPoints).sort((g,k)=>Number(k.valueQuarterMillions)-Number(g.valueQuarterMillions))[0],f=N.find(g=>g.gameweek===T(d))??null,v(p,S(f?.homeClubId??0)??null),v(m,S(f?.awayClubId??0)??null)}catch(N){console.error("Error fetching club details:",N)}finally{v(h,!1)}});let E=A([]);function S(N){return l().find(g=>g.id===N)}ht(()=>a(),()=>{v(i,Number(a().url.searchParams.get("id")))}),ht(()=>(T(_),l(),T(d)),()=>{T(_).length>0&&l().length>0&&v(E,lo(T(_),l(),T(d)))}),jr(),ke(),ve(e),ce()}const _c=Object.freeze(Object.defineProperty({__proto__:null,component:dc},Symbol.toStringTag,{value:"Module"}));function pc(e,t){le(t,!1),Pe(),Oe(async()=>{try{await ut.syncStores()}catch(r){console.error("Error fetching league table:",r)}finally{}}),ke(),ve(e),ce()}const hc=Object.freeze(Object.defineProperty({__proto__:null,component:pc},Symbol.toStringTag,{value:"Module"}));function yc(e){ve(e)}const mc=Object.freeze(Object.defineProperty({__proto__:null,component:yc},Symbol.toStringTag,{value:"Module"}));function gc(e,t){le(t,!1);const r=Pe(),a=()=>V(cr,"$page",r),o=A();F(Number(a().url.searchParams.get("gw"))??1);let n=A(),s=A(""),l=A(""),u=A(!0);Oe(async()=>{try{if(await ut.syncStores(),v(n,await na.getPublicProfile(T(o)??"")),!T(n))return;v(s,T(n).username===T(n).principalId?"Unknown":T(n).username);let i=T(n)?.profilePicture;i=typeof i=="string"&&i.startsWith("data:image")?i:"/profile_placeholder.png",v(l,Rl(Number(T(n).createDate)))}catch(i){console.error("Error fetching manager details:",i)}finally{v(u,!1)}}),ht(()=>a(),()=>{v(o,a().url.searchParams.get("id"))}),jr(),ke(),ve(e),ce()}const wc=Object.freeze(Object.defineProperty({__proto__:null,component:gc},Symbol.toStringTag,{value:"Module"})),vc={"3-4-3":{positions:[0,1,1,1,2,2,2,2,3,3,3]},"3-5-2":{positions:[0,1,1,1,2,2,2,2,2,3,3]},"4-3-3":{positions:[0,1,1,1,1,2,2,2,3,3,3]},"4-4-2":{positions:[0,1,1,1,1,2,2,2,2,3,3]},"4-5-1":{positions:[0,1,1,1,1,2,2,2,2,2,3]},"5-4-1":{positions:[0,1,1,1,1,1,2,2,2,2,3]},"5-3-2":{positions:[0,1,1,1,1,1,2,2,2,3,3]}};function Sc(e,t){le(t,!1);const r=Pe(),a=()=>V(Q,"$systemStore",r),o=()=>V(d,"$fantasyTeam",r);let n=F([]),s=F(3),l=F(0),u=F(!0),i=F(!0),h=A(!0);const _=F(!0),d=F({playerIds:[],oneNationCountryId:0,username:"",goalGetterPlayerId:0,hatTrickHeroGameweek:0,transfersAvailable:0,teamBoostGameweek:0,captainFantasticGameweek:0,oneNationGameweek:0,bankQuarterMillions:0,noEntryPlayerId:0,safeHandsPlayerId:0,braceBonusGameweek:0,passMasterGameweek:0,teamBoostClubId:0,goalGetterGameweek:0,captainFantasticPlayerId:0,transferWindowGameweek:0,noEntryGameweek:0,prospectsGameweek:0,safeHandsGameweek:0,principalId:"",passMasterPlayerId:0,captainId:0,canisterId:"",monthlyBonusesAvailable:0,firstGameweek:!0});Oe(async()=>{try{await ut.syncStores(),i.set(a()?.onHold??!0),Ra(n,Object.keys(vc)),await c()}catch(f){console.error("Error fetching team details:",f)}finally{v(h,!1),Ra(u,!1)}});async function c(){const f=localStorage.getItem("viewMode");f&&_.set(f==="pitch");let p=await na.getCurrentTeam();if(d.set(p),d.update(m=>m&&(!m.playerIds||m.playerIds.length!==11)?{...m,playerIds:new Uint16Array(11).fill(0)}:m),l.set(o().bankQuarterMillions),o().principalId==""){l.set(1200),s.set(1/0);return}o().firstGameweek&&s.set(1/0)}ke(),ve(e),ce()}const bc=Object.freeze(Object.defineProperty({__proto__:null,component:Sc},Symbol.toStringTag,{value:"Module"}));function Ec(e,t){le(t,!1);const r=Pe(),a=()=>V(cr,"$page",r),o=()=>V(Q,"$systemStore",r),n=()=>V(Et,"$playerStore",r),s=()=>V(bt,"$clubStore",r),l=()=>V(nt,"$fixtureStore",r),u=A();let i=o()?.pickTeamGameweek??1,h=A(null),_=A([]),d=A(null),c=null,f=A(null),p=A(null),m=A("00"),y=A("00"),w=A("00"),E=A("-"),S=A("-"),N=A("-"),g=A(!0);Oe(async()=>{try{if(await ut.syncStores(),v(h,n().find(q=>q.id===T(u))??null),v(d,s().find(q=>q.id===T(h)?.clubId)??null),l().length==0)return;v(_,l().map(q=>({fixture:q,homeTeam:b(q.homeClubId),awayTeam:b(q.awayClubId)}))),c=l().filter(q=>q.homeClubId===T(d)?.id||q.awayClubId===T(d)?.id).find(q=>q.gameweek===i)??null,v(f,b(c?.homeClubId??0)??null),v(p,b(c?.awayClubId??0)??null),v(E,no(c?.kickOff??0n)),v(S,oo(c?.kickOff??0n)),v(N,io(c?.kickOff??0n));let re=so(c?.kickOff??0n);v(m,re.days.toString()),v(y,re.hours.toString()),v(w,re.minutes.toString())}catch($){console.error("Error fetching data:",$)}finally{v(g,!1)}});let k=A([]);function b($){return s().find(re=>re.id===$)}ht(()=>a(),()=>{v(u,Number(a().url.searchParams.get("id")))}),ht(()=>(l(),s(),T(_)),()=>{l().length>0&&s().length>0&&v(k,lo(T(_),s(),i))}),jr(),ke(),ve(e),ce()}const Nc=Object.freeze(Object.defineProperty({__proto__:null,component:Ec},Symbol.toStringTag,{value:"Module"}));function Tc(e,t){le(t,!1),Pe();let r=A(!0);Oe(async()=>{try{oa.sync()}catch{console.error("Error loading auth details")}finally{v(r,!1)}}),ke(),ve(e),ce()}const Ac=Object.freeze(Object.defineProperty({__proto__:null,component:Tc},Symbol.toStringTag,{value:"Module"}));function kc(e){ve(e)}const Pc=Object.freeze(Object.defineProperty({__proto__:null,component:kc},Symbol.toStringTag,{value:"Module"}));export{_l as E,cl as L,ae as _,xc as a,Wc as b,Cc as c,Vc as d,uc as e,dc as f,Fc as g,Bc as h,pc as i,yc as j,gc as k,Sc as l,qc as m,Mc as n,Ec as o,Tc as p,kc as q,Ic as r,Gc as s};
